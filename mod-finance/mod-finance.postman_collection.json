{
	"info": {
		"_postman_id": "4f517f86-f25b-48af-bd9b-1fea9e8e32ef",
		"name": "mod-finance",
		"description": "Tests for mod-finance",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Setup",
			"item": [
				{
					"name": "Create tenant and enable modules",
					"item": [
						{
							"name": "Login by existing admin",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fb9a7f22-ec9b-40b4-8869-224444361be8",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"pm.environment.set(\"xokapitoken-admin\", postman.getResponseHeader(\"x-okapi-token\"));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{  \r\n   \"username\":\"{{username}}\",\r\n   \"password\":\"{{password}}\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/authn/login",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"authn",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create new tenant",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "741acf78-a7ba-415d-ac5c-436e7d65278e",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.variables.set(\"tenantData\", JSON.stringify(globals.testData.tenant));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6365a6c1-7dc1-42a8-b7e9-60c8bc48379c",
										"exec": [
											"// In case the tenant was not created no sense to run further requests",
											"postman.setNextRequest(null);",
											"",
											"pm.test(\"Tenant created - Expected Created (201)\", () => {",
											"    pm.response.to.have.status(201);",
											"    // All is okay so running further requests",
											"    postman.setNextRequest();",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken-admin}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{tenantData}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/_/proxy/tenants",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"_",
										"proxy",
										"tenants"
									]
								}
							},
							"response": []
						},
						{
							"name": "Enable modules for new tenant",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0e20fc53-91b2-474e-8e4b-a011a5fd2718",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"utils.getModuleId(\"mod-finance\", bodyHandler);",
											"utils.getModuleId(\"mod-login\", bodyHandler);",
											"utils.getModuleId(\"mod-permissions\", bodyHandler);",
											"",
											"",
											"//remove after implementing mod-finance CRUD API",
											"utils.getModuleId(\"mod-finance-storage\", bodyHandler);",
											"utils.getModuleId(\"mod-configuration\", bodyHandler);",
											"//",
											"",
											"",
											"var modulesToEnable = [];",
											"",
											"function bodyHandler(moduleId) {",
											"\tmodulesToEnable.push({",
											"\t\t\"id\" : moduleId,",
											"\t\t\"action\": \"enable\"",
											"\t});",
											"    pm.variables.set(\"modulesToEnable\", JSON.stringify(modulesToEnable));",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "93824d7f-120a-4b5f-9937-8eb06991b77f",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"postman.setNextRequest(null);",
											"pm.test(\"Enabled required modules\", function () {",
											"    pm.response.to.have.status(200);",
											"    pm.response.to.be.withBody;",
											"    pm.environment.set(\"enabledModules\", pm.response.json());",
											"    postman.setNextRequest();",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "x-okapi-token",
										"type": "text",
										"value": "{{xokapitoken-admin}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{modulesToEnable}}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/_/proxy/tenants/{{testTenant}}/install",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"_",
										"proxy",
										"tenants",
										"{{testTenant}}",
										"install"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create admin user",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d7e8f524-7896-4948-a7aa-03157f21bb0e",
										"exec": [
											"pm.variables.set(\"userData\", JSON.stringify(globals.testData.users.admin.user));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "58451373-426f-46ce-994e-54903b9033a5",
										"exec": [
											"// In case the user was not created no sense to run further requests",
											"postman.setNextRequest(null);",
											"",
											"pm.test(\"User created - Expected Created (201)\", () => {",
											"    pm.response.to.have.status(201);",
											"",
											"    // All is okay so running further requests",
											"    postman.setNextRequest();",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "x-okapi-tenant",
										"type": "text",
										"value": "{{testTenant}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{userData}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/users",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create credentials for admin user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e66d4416-aef7-460a-89ec-7bbc25078e09",
										"exec": [
											"pm.test(globals.testData.users.admin.user.username + \" user's credentials created\", () => pm.response.to.have.status(201));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "7a47e9a5-a318-4e26-a247-514e6b2db3c8",
										"exec": [
											"pm.variables.set(\"userCreds\", JSON.stringify(globals.testData.users.admin.credentials));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "x-okapi-tenant",
										"type": "text",
										"value": "{{testTenant}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{userCreds}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/authn/credentials",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"authn",
										"credentials"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add all permissions to admin",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2184085e-ae8a-4bed-824a-abcca0797bfa",
										"exec": [
											"pm.test(globals.testData.users.admin.user.username + \" user's permissions created\", () => pm.response.to.have.status(201));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "6115e6ca-c4a9-4288-9a5b-ffe04a1df6a2",
										"exec": [
											"eval(globals.loadUtils).sendGetRequest('/perms/permissions?length=1000&query=(subPermissions=\"\" NOT subPermissions ==/respectAccents []) and (cql.allRecords=1 NOT childOf <>/respectAccents [])', (err, res) => {",
											"        let userPermissions = globals.testData.users.admin.permissions;",
											"        userPermissions.permissions = res.json().permissions.map(perm => perm.permissionName);",
											"        userPermissions.permissions.push(\"finance.order-transaction-summaries.item.post\");",
											"        pm.variables.set(\"userPermissions\", JSON.stringify(userPermissions));",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "x-okapi-tenant",
										"type": "text",
										"value": "{{testTenant}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{userPermissions}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/perms/users",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"perms",
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "Enable mod-authtoken for new tenant",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "b7641fa8-9016-4b41-b888-f288018a3a36",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"utils.getModuleId(\"mod-authtoken\", bodyHandler);",
											"",
											"var modulesToEnable = [];",
											"",
											"function bodyHandler(moduleId) {",
											"\tmodulesToEnable.push({",
											"\t\t\"id\" : moduleId,",
											"\t\t\"action\": \"enable\"",
											"\t});",
											"    pm.variables.set(\"modulesToEnable\", JSON.stringify(modulesToEnable));",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "dec7d2f6-6a7b-49e2-bb34-a6336310bbf1",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"postman.setNextRequest(null);",
											"pm.test(\"Enabled mod-finance with all dependencies\", function () {",
											"    pm.response.to.have.status(200);",
											"    pm.response.to.be.withBody;",
											"    pm.environment.set(\"enabledModules\", pm.response.json());",
											"    postman.setNextRequest();",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "x-okapi-token",
										"type": "text",
										"value": "{{xokapitoken-admin}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{modulesToEnable}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/_/proxy/tenants/{{testTenant}}/install",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"_",
										"proxy",
										"tenants",
										"{{testTenant}}",
										"install"
									]
								}
							},
							"response": []
						},
						{
							"name": "Login by new admin",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5e83703f-b330-4404-867d-b18e60c98162",
										"exec": [
											"// In case the new user cannot be logged in no sense to run further tests",
											"postman.setNextRequest(null);",
											"",
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"    // All is okay so running further requests",
											"    postman.setNextRequest();",
											"});",
											"",
											"pm.environment.set(\"xokapitoken-testAdmin\", postman.getResponseHeader(\"x-okapi-token\"));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "918bd92e-2c87-420d-b4bc-54c7c687842b",
										"exec": [
											"pm.variables.set(\"newUserCreds\", JSON.stringify(globals.testData.users.admin.credentials));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{testTenant}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{newUserCreds}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/authn/login",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"authn",
										"login"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Update configs",
					"item": [
						{
							"name": "Check configs and update",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9880b62f-3186-4cc4-8b43-81eab9edc4c3",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let testConfigs = globals.testData.configs;",
											"",
											"testConfigs.configNames.forEach(configName => utils.createFinanceConfig(configName));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1dea52ff-f92b-4993-9161-e80f0af67912",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"type": "text",
										"value": "{{xokapitoken-testAdmin}}"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/configurations/entries?query=module==FINANCE",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"configurations",
										"entries"
									],
									"query": [
										{
											"key": "query",
											"value": "module==FINANCE"
										}
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "eb4c4b9b-b46b-4fb6-8034-a3e4e0f1aabd",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "f46876aa-7209-4b79-b6eb-f9eecd216dc0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Load all schemas for validation",
					"item": [
						{
							"name": "Get schemas and setup env variables",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "dbfd9877-a755-4000-9362-0af7d123c8a2",
										"exec": [
											"let utils = eval(globals.loadUtils);\r",
											"\r",
											"pm.test(\"Module has schemas to load\", function () {\r",
											"    pm.response.to.be.ok;\r",
											"    pm.response.to.have.jsonBody();\r",
											"\r",
											"    let schemas = pm.response.json();\r",
											"    pm.expect(schemas).to.not.be.empty;\r",
											"    traverse(pm.response.json());\r",
											"});\r",
											"\r",
											"function traverse(schemas) {\r",
											"    const timerId = setTimeout(() => { }, 60000);\r",
											"\r",
											"    var promises = schemas.map(path => fetchSchema(path));\r",
											"    Promise.all(promises)\r",
											"        .then(result => {\r",
											"            let failedSchemas = schemas.filter(path => !result.includes(path));\r",
											"            pm.test(\"All json schemas are loaded\", () => pm.expect(failedSchemas, failedSchemas.join()).to.be.empty);\r",
											"            clearTimeout(timerId);\r",
											"        })\r",
											"        .catch((err, path) => {\r",
											"            clearTimeout(timerId);\r",
											"            pm.test(\"One or more schema could not be loaded: \" + err, () => pm.expect.fail());\r",
											"            console.log(\"Failure to load \" + path, err);\r",
											"        });\r",
											"}\r",
											"\r",
											"function fetchSchema(path) {\r",
											"    let getRequest = buildGetSchemaRequest(path);\r",
											"\r",
											"    return new Promise((resolve, reject) => {\r",
											"        pm.sendRequest(getRequest, (err, response) => {\r",
											"            if (!err) {\r",
											"                if (response.code === 200) {\r",
											"                    let content = replaceResponseRefWithName(response.text());\r",
											"                    let name = extractName(path);\r",
											"                    setEnvironmentVariable(name, content);\r",
											"                    resolve(path);\r",
											"                } else {\r",
											"                    resolve();\r",
											"                }\r",
											"            } else {\r",
											"                reject(err);\r",
											"            }\r",
											"        });\r",
											"    });\r",
											"}\r",
											"\r",
											"function setEnvironmentVariable(name, data) {\r",
											"    pm.environment.set(utils.schemaPrefix + name, data);\r",
											"}\r",
											"\r",
											"function extractName(url) {\r",
											"    return url.substring(url.lastIndexOf(\"/\") + 1);\r",
											"}\r",
											"\r",
											"function replaceResponseRefWithName(text) {\r",
											"    return text.replace(/\"\\$ref\":\"([^\"]+\\/)(?=.*(\\.json|\\.schema))/g, \"\\\"$ref\\\":\\\"\" + utils.schemaPrefix);\r",
											"}\r",
											"\r",
											"function buildGetSchemaRequest(path) {\r",
											"    let getRequest = utils.buildPmRequest(\"/_/jsonSchemas?path=\" + path, \"GET\");\r",
											"    getRequest.header['X-Okapi-Module-Id'] = pm.variables.get(\"modFinanceId\");\r",
											"    return getRequest;\r",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "734c5207-5c6e-47e9-83d7-a83b0d552848",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"const moduleName = 'mod-finance';",
											"",
											"pm.sendRequest(buildPmRequest1(\"/_/proxy/tenants/\" + pm.variables.get(\"testTenant\") + \"/interfaces/_jsonSchemas\"), (err, response) => {",
											"    pm.test(\"jsonSchemas provided by \" + moduleName, function() {",
											"        pm.expect(err).to.equal(null);",
											"        pm.expect(response.text()).to.include(moduleName);",
											"        let moduleId = response.json().map(element => element.id).filter(modId => modId.includes(moduleName))[0];",
											"        pm.variables.set('modFinanceId', moduleId);",
											"    });",
											"});",
											"",
											"",
											"function buildPmRequest1(path) {",
											"    return {",
											"        url: utils.buildOkapiUrl(path),",
											"        method: \"GET\",",
											"        header: {",
											"            \"X-Okapi-Tenant\": pm.variables.get(\"xokapitenant\"),",
											"            \"X-Okapi-Token\": pm.environment.get(\"xokapitoken-admin\")",
											"        }",
											"    };",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Okapi-Module-Id",
										"type": "text",
										"value": "{{modFinanceId}}"
									},
									{
										"key": "X-Okapi-Tenant",
										"type": "text",
										"value": "{{testTenant}}"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/_/jsonSchemas",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"_",
										"jsonSchemas"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2267052f-14a6-420d-aa61-f4aa326fe448",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "c2186e65-3267-448e-9c35-83f61d558a53",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Create regular user",
					"item": [
						{
							"name": "Create user",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4e093bfc-8901-4aa4-bbc2-38010f6108cb",
										"exec": [
											"pm.variables.set(\"userData\", JSON.stringify(globals.testData.users.regular.user));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "551b7d87-3552-46bf-93dc-68182ae05a95",
										"exec": [
											"// In case the user was not created no sense to run further requests",
											"postman.setNextRequest(null);",
											"",
											"pm.test(\"User created - Expected Created (201)\", () => {",
											"    pm.response.to.have.status(201);",
											"",
											"    // All is okay so running further requests",
											"    postman.setNextRequest();",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "x-okapi-token",
										"type": "text",
										"value": "{{xokapitoken-testAdmin}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{userData}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/users",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create credentials for user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2229746b-a22b-476f-af20-2b25dc765c30",
										"exec": [
											"pm.test(globals.testData.users.regular.user.username + \" user's credentials created\", () => pm.response.to.have.status(201));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c810a67f-585b-4712-bc4e-a8464ead8854",
										"exec": [
											"pm.variables.set(\"userCreds\", JSON.stringify(globals.testData.users.regular.credentials));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken-testAdmin}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{userCreds}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/authn/credentials",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"authn",
										"credentials"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add orders permissions to user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "16bc34c6-2883-4058-95ea-91fecbc9c423",
										"exec": [
											"pm.test(globals.testData.users.regular.user.username + \" user's permissions created\", () => pm.response.to.have.status(201));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "94bb6cd6-c6b5-4b24-bec9-bc176d49d10b",
										"exec": [
											"pm.variables.set(\"userPermissions\", JSON.stringify(globals.testData.users.regular.permissions));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "x-okapi-token",
										"type": "text",
										"value": "{{xokapitoken-testAdmin}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{userPermissions}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/perms/users",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"perms",
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "Login by new user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8fe0d92c-4f9b-4980-9a2d-ce6e1d147303",
										"exec": [
											"// In case the new user cannot be logged in no sense to run further tests",
											"postman.setNextRequest(null);",
											"",
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"    // All is okay so running further requests",
											"    postman.setNextRequest();",
											"});",
											"",
											"pm.environment.set(\"xokapitoken\", postman.getResponseHeader(\"x-okapi-token\"));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a1efb91d-2bff-4206-922a-d0e5cfd771b9",
										"exec": [
											"pm.variables.set(\"newUserCreds\", JSON.stringify(globals.testData.users.regular.credentials));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{testTenant}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{newUserCreds}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/authn/login",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"authn",
										"login"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Positive Tests",
			"item": [
				{
					"name": "Groups",
					"item": [
						{
							"name": "Create group - for Group Fund Fiscal Year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "899b1282-05f0-4e71-9334-2f61deecbd6b",
										"exec": [
											"pm.test(\"Group is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"groupId\", pm.response.json().id); ",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d6334daf-a10e-470a-992b-8000985964cb",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let group = utils.buildGroupMinContent(\"GROUP_GFFY\");",
											"group.name = \"Test group for GFFY\";",
											"",
											"pm.environment.set(\"groupContent\", JSON.stringify(group));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create group - for CRUD test",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "13d5e5e2-9f2d-45ad-8d27-59e5e37d9c1d",
										"exec": [
											"pm.test(\"Group is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"groupForCrudId\", pm.response.json().id); ",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "de5b3175-f031-4638-9e96-86a61265d9cc",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let group = utils.buildGroupMinContent(\"GROUP_GRUD\");",
											"",
											"pm.environment.set(\"groupContent\", JSON.stringify(group));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get group list",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c055b5be-42ec-4f52-9b86-084e54aa9180",
										"exec": [
											"pm.test(\"Groups is retrieved\", () => {",
											"    pm.response.to.have.status(200);",
											"    pm.expect(pm.response.json().groups.length).to.be.above(0);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "80ab16b7-5968-4e6b-9f2f-2882f88e04af",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get group by id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9941cd03-d1eb-48f3-9b7c-235cb200b955",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Group is retrieved\", function() {",
											"    pm.response.to.be.ok;",
											"    utils.validateGroup(pm.response.json());",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "125ed4f0-4776-4a15-8f49-82b54a3cfd2a",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups/{{groupForCrudId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups",
										"{{groupForCrudId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cbfcb170-1b46-4d49-9932-850825ac8e53",
										"exec": [
											"pm.test(\"Group is updated\", () => {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "976a9368-8855-4ce2-afbc-0a98762a1096",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"let groupForUpdate = JSON.parse(pm.environment.get(\"groupContent\"));",
											"",
											"groupForUpdate.name = \"newGroupName\";",
											"",
											"pm.variables.set(\"groupContent\", JSON.stringify(groupForUpdate));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups/{{groupForCrudId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups",
										"{{groupForCrudId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "18bbeac1-6caf-423c-b002-0bed35e6d750",
										"exec": [
											"pm.test(\"Group is deleted\", () => pm.response.to.have.status(204));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "b5c496bf-21a5-488e-80d2-92e37b992cd0",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups/{{groupForCrudId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups",
										"{{groupForCrudId}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Fiscal years",
					"item": [
						{
							"name": "Create fiscal year  - required for budgets",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ebed2673-f9a1-493d-8be2-02274a424d07",
										"exec": [
											"pm.test(\"Fiscal Year is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"fiscalYearId\", pm.response.json().id);",
											"    // MODFIN-94 Add series field while creating/updating a FiscalYear",
											"    pm.expect(pm.response.json().series).to.exist;",
											"});",
											"",
											"pm.test(\"Fiscal Year contains Currenct\", () => {",
											"    pm.expect(pm.response.json().currency).to.exist;",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "17d26f9b-f37f-4002-b82b-f375bd7507f8",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"fyContent\", JSON.stringify(utils.buildFiscalYearMinContent()));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fyContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fiscal-years"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create second fiscal year  - required for budgets",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "744a5aa3-996c-47cf-b28b-dc36b5125dc8",
										"exec": [
											"pm.test(\"Ledger is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"secondFiscalYearId\", pm.response.json().id); ",
											"    // MODFIN-94 Add series field while creating/updating a FiscalYear",
											"    pm.expect(pm.response.json().series).to.exist;",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "ba0a66f0-1fb7-4e76-9225-6ef2ef4b739d",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let fy = utils.buildFiscalYearMinContent(\"FY2020\");",
											"",
											"pm.environment.set(\"secondFyContent\", JSON.stringify(fy));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{secondFyContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fiscal-years"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get fiscal year list",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7b801f9d-b3f2-4d9a-8ee5-f75335b5b6e2",
										"exec": [
											"pm.test(\"Ledger is created\", () => {",
											"    pm.response.to.have.status(200);",
											"    pm.expect(pm.response.json().fiscalYears.length).to.be.above(0);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e5804eda-697a-43dc-a67e-548e2e8746b1",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fiscal-years"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "da83849c-8a7c-49b4-9787-c954deab79c9",
										"exec": [
											"pm.test(\"FiscalYear is updated is created\", () => {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "23599b32-6faa-4899-a0e1-8c91562b7fdd",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"let fyForUpdate = JSON.parse(pm.variables.get(\"secondFyContent\"));",
											"",
											"fyForUpdate.name = \"newFYName\";",
											"",
											"pm.variables.set(\"secondFyContent\", JSON.stringify(fyForUpdate));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{secondFyContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{secondFiscalYearId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fiscal-years",
										"{{secondFiscalYearId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get fiscal year by id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c394228e-2b8c-4fb2-9420-78fb166b58d1",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Fiscal year is retrieved\", function() {",
											"    pm.response.to.be.ok;",
											"    utils.validateFiscalYear(pm.response.json());",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "566f0c9a-ee58-4d48-9aec-19f3faa0485c",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{secondFiscalYearId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fiscal-years",
										"{{secondFiscalYearId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create fiscal year for delete",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3cf33d27-c93d-45c1-b977-b0cc252f0700",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.test(\"Fiscal Year is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"fyForDeleteId\", pm.response.json().id); ",
											"});",
											"",
											"pm.test(\"Fiscal Year contains Currency from Config\", () => {",
											"    pm.expect(pm.response.json().currency).to.exist;",
											"     pm.expect(pm.response.json().currency).to.equal(\"USD\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "fe67b647-662c-4116-b451-1953389d68ba",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let fy = utils.buildFiscalYearMinContent(\"THRD2020\");",
											"",
											"pm.variables.set(\"fyForDelete\", JSON.stringify(fy));",
											"",
											"let localeConfig = globals.testData.localeConfigs.bodyTemplate;",
											"localeConfig.value = \"{\\\"locale\\\":\\\"en-US\\\",\\\"timezone\\\":\\\"America/New_York\\\",\\\"currency\\\":\\\"USD\\\"}\";",
											"utils.createConfig(localeConfig);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fyForDelete}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fiscal-years"
									]
								},
								"description": "Test Fiscal Year picks currency from configuration while creating"
							},
							"response": []
						},
						{
							"name": "Delete fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9e33cc5d-1a31-490c-a290-030f81e34089",
										"exec": [
											"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "82a5be1e-0c41-4cf6-97b9-e628d8a4640f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{fyForDeleteId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fiscal-years",
										"{{fyForDeleteId}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Ledgers",
					"item": [
						{
							"name": "Create first ledger - required for funds",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d82c8b65-0a63-4bed-bd10-cbd297c963e1",
										"exec": [
											"pm.test(\"Ledger is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"ledgerId\", pm.response.json().id); ",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e3a27c5d-00f9-4309-b84d-d1b72e588068",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let ledger = utils.buildLedgerMinContent();",
											"ledger.fiscalYearOneId = pm.environment.get(\"fiscalYearId\");",
											"pm.environment.set(\"ledgerContent\", JSON.stringify(ledger));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{ledgerContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create second ledger - for CRUD test",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ffbaec68-0f35-4a40-a297-771bd558ea4e",
										"exec": [
											"pm.test(\"Ledger is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"secondLedgerId\", pm.response.json().id); ",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e5ec4101-e037-43a7-8594-6be982ff955a",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"let secondLedger = utils.buildLedgerMinContent();",
											"secondLedger.code = \"SCND-TST-LDGR-CODE\";",
											"secondLedger.name = \"Second Ledger Name\";",
											"secondLedger.fiscalYearOneId = pm.environment.get(\"secondFiscalYearId\");",
											"",
											"pm.environment.set(\"ledgerContent\", JSON.stringify(secondLedger));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{ledgerContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get ledger list",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0cf8a864-e2f2-47c0-89d1-a69d5675926d",
										"exec": [
											"pm.test(\"Ledger is created\", () => {",
											"    pm.response.to.have.status(200);",
											"    pm.expect(pm.response.json().ledgers.length).to.be.above(0);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a19d323f-af35-4e68-8120-b7603a486db1",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get ledger by id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b482b568-9ae7-4a95-8839-eac74af01a73",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Ledger is retrieved\", function() {",
											"    pm.response.to.be.ok;",
											"    utils.validateLedger(pm.response.json());",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d6a96bc9-565d-4658-9ca6-7179f3680fe2",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{secondLedgerId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers",
										"{{secondLedgerId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update ledger",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b071f234-c73f-471d-b06c-8b85e46cf817",
										"exec": [
											"pm.test(\"Ledger is created\", () => {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "ee4c85e0-2e21-4929-9199-901f87aa24dd",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"let ledgerForUpdate = JSON.parse(pm.environment.get(\"ledgerContent\"));",
											"",
											"ledgerForUpdate.name = \"newLedgerName\";",
											"",
											"pm.variables.set(\"ledgerContent\", JSON.stringify(ledgerForUpdate));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{ledgerContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{secondLedgerId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers",
										"{{secondLedgerId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Ledger",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "78bcbf51-3bfe-44d1-a738-c0ef3ec6fc43",
										"exec": [
											"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "6176e03a-a0c2-405a-aab2-e64641d8775e",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{ledgerContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{secondLedgerId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers",
										"{{secondLedgerId}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Fund types",
					"item": [
						{
							"name": "Create first type",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1d1ac7cb-16d9-47d3-82df-e66136ba607f",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let type = {};",
											"",
											"pm.test(\"Fund type is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    type = pm.response.json();",
											"});",
											"",
											"pm.test(\"Fund type content is valid\", function() {",
											"    utils.validateFundType(type);",
											"    pm.environment.set(\"fundTypeId\", type.id);",
											"    pm.expect(type.name).to.eql(\"First\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3b21ae4e-616f-4c50-988e-0a91202dd5e4",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\": \"First\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get type record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "68421a5d-d04c-426e-99ef-d7587273d2c8",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Fund type is retrieved\", function () {",
											"    pm.response.to.be.ok;",
											"    utils.validateFundType(pm.response.json());",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f1a6b910-e40d-4959-a858-b3ec43cf3b86",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types/{{fundTypeId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types",
										"{{fundTypeId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create second type",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3798e102-c950-4acb-bd83-4320d39f6a24",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let type = {};",
											"",
											"pm.test(\"Fund type is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    type = pm.response.json();",
											"});",
											"",
											"pm.test(\"Fund type content is valid\", function() {",
											"    utils.validateFundType(type);",
											"    pm.environment.set(\"fundTypeId2\", type.id); ",
											"    pm.expect(type.name).to.eql(\"Second\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "4e38a4f0-ea06-410f-a9cb-9da24e7c8efe",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"id\": \"{{$guid}}\",\n\t\"name\": \"Second\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get type records by query - 1 record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7a8737fc-16e3-4f0d-90fd-8c46553dcdbf",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"One fund type record is found\", function () {",
											"    pm.response.to.be.ok;",
											"    let records = pm.response.json();",
											"    pm.expect(records.fundTypes).to.have.lengthOf(1);",
											"    records.fundTypes.forEach(type => utils.validateFundType(type));",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f93bc882-580e-47f3-bd64-ea1c27229dc9",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types?query=name==Second",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									],
									"query": [
										{
											"key": "query",
											"value": "name==Second"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update second type",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8e1e7acc-08e3-4bbc-bead-5cba09e8e4cd",
										"exec": [
											"pm.test(\"Fund type is updated\", () => pm.response.to.have.status(204));",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "fee442ce-8c08-415c-a945-ea3c064ac531",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\": \"Updated\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types/{{fundTypeId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types",
										"{{fundTypeId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get second type record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5c07be11-bda7-4ee1-9992-e3cdb376bb2c",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Fund type is retrieved\", function () {",
											"    pm.response.to.be.ok;",
											"    let type = pm.response.json();",
											"    utils.validateFundType(type);",
											"    pm.expect(type.name).to.eql(\"Updated\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "99442dd5-37a5-47fe-96e5-bd369376e683",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types/{{fundTypeId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types",
										"{{fundTypeId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get type records - 2 records",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b7c78b1f-7668-49f3-850c-134ffc6d8224",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"2 fund type records are found\", function () {",
											"    pm.response.to.be.ok;",
											"    let collection = pm.response.json();",
											"    pm.expect(collection.fundTypes).to.have.lengthOf(2);",
											"    collection.fundTypes.forEach(type => utils.validateFundType(type));",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "37b4649e-6844-4657-8b0a-a345241b059b",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete second type record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "39c32249-3839-4ecf-bac7-5bd3c0d67a9a",
										"exec": [
											"pm.test(\"Fund type is deleted\", () => pm.response.to.have.status(204));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "daa77bab-80ca-4bdf-93b7-36dca0f1c0ee",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types/{{fundTypeId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types",
										"{{fundTypeId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get type records - 1 record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "eef24acf-bf8e-457c-9b4d-ef2934c8c6df",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"One fund type record is found\", function () {",
											"    pm.response.to.be.ok;",
											"    let collection = pm.response.json();",
											"    pm.expect(collection.fundTypes).to.have.lengthOf(1);",
											"    utils.validateFundType(collection.fundTypes[0]);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1545e757-c3a8-4084-ac55-227b502bf134",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Funds",
					"item": [
						{
							"name": "Create first fund - required for budget",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9372c5fb-d8a1-4be2-bede-54de5db85069",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Fund is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    record = pm.response.json();",
											"});",
											"",
											"pm.test(\"Fund content is valid\", function() {",
											"    utils.validateCompositeFund(record);",
											"    pm.environment.set(\"fundId\", record.fund.id); ",
											"    pm.expect(record.fund.code).to.eql(\"FRST-FND\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "01a2c616-d784-41b3-952c-d861698c805a",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"fundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"FRST-FND\"))));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get fund record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aa3c1216-701c-4c5c-bcbb-99a1ffb5e9b1",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Fund is retrieved\", function () {",
											"    pm.response.to.be.ok;",
											"    utils.validateCompositeFund(pm.response.json());",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e722f67e-43f1-4659-8f4c-662ce7c1bda5",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fundId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds",
										"{{fundId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create second fund",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a4a751ea-a385-42f3-ad68-413a7e50d8ac",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Fund is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    record = pm.response.json();",
											"});",
											"",
											"pm.test(\"Fund content is valid\", function() {",
											"    utils.validateCompositeFund(record);",
											"    pm.environment.set(\"fundId2\", record.fund.id);",
											"    pm.environment.set(\"fundContent2\", record);",
											"    pm.expect(record.fund.fundTypeId).to.eql(pm.variables.get(\"fundTypeId\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "db601c61-1a1e-46ce-8427-93c2ed896db3",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let fund = utils.buildFundMinContent(\"SCND-FND\");",
											"fund.fundTypeId = pm.variables.get(\"fundTypeId\");",
											"let compositeFund = utils.buildCompositeFund(fund);",
											"pm.variables.set(\"fundContent\", JSON.stringify(compositeFund));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get fund records by query - 1 record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "058b9b0a-ec77-45b3-a4b3-fe451b047283",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"One fund record is found\", function () {",
											"    pm.response.to.be.ok;",
											"    let records = pm.response.json();",
											"    pm.expect(records.funds).to.have.lengthOf(1);",
											"    utils.validateFund(records.funds[0]);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e2020559-c2d0-4ac4-8b43-c7f9c6a7fb06",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds?query=fundTypeId=\"\"",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									],
									"query": [
										{
											"key": "query",
											"value": "fundTypeId=\"\""
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update second fund",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ead60e36-2be6-494a-a9c8-edd6aa55eec3",
										"exec": [
											"pm.test(\"Fund is updated\", () => pm.response.to.have.status(204));",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "be9dddf8-75c9-4c90-9e38-140ebc605fe0",
										"exec": [
											"let record = pm.environment.get(\"fundContent2\");",
											"record.fund.name = \"Updated\";",
											"pm.variables.set(\"fundContent\", JSON.stringify(record));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fundId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds",
										"{{fundId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get second fund record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f09c0196-735b-4ddf-bb0e-dbc6b0ac07b3",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Fund is retrieved\", function () {",
											"    pm.response.to.be.ok;",
											"    let record = pm.response.json();",
											"    utils.validateCompositeFund(record);",
											"    pm.expect(record.fund.name).to.eql(\"Updated\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "bda9c823-43e7-4688-9c66-91d68f667733",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fundId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds",
										"{{fundId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get fund records - 2 records",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a2995bd3-1790-4300-bd22-59fdac9d28a8",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"2 fund records are found\", function () {",
											"    pm.response.to.be.ok;",
											"    let collection = pm.response.json();",
											"    pm.expect(collection.funds).to.have.lengthOf(2);",
											"    collection.funds.forEach(record => utils.validateFund(record));",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3c6a81d6-f7da-44d7-a8ce-7c58c2806385",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete second fund record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "44941847-24c5-43ef-9dd5-68594e044790",
										"exec": [
											"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e1d0a83c-4f2f-4f94-bd3f-55a70f3cdc13",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fundId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds",
										"{{fundId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get fund records - 2 records",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "23a06513-37b9-4279-8ce3-c3a6ecacba52",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"One fund record is found\", function () {",
											"    pm.response.to.be.ok;",
											"    let collection = pm.response.json();",
											"    pm.expect(collection.funds).to.have.lengthOf(1);",
											"    utils.validateFund(collection.funds[0]);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "fd0e8a00-5a8d-4539-843d-95a1f108cd88",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Budgets",
					"item": [
						{
							"name": "Budget deletion without transaction",
							"item": [
								{
									"name": "Create fiscal year  - required for budgets",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "113c4054-40f3-465e-b12f-14992112bbfe",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocFyContent\", JSON.stringify(utils.buildFiscalYearMinContent(\"ALLOCFY2019\")));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "cf79589d-a05c-4d5a-8a4b-084d0496fdc4",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocFiscalYearId\", pm.response.json().id);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocFyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ledger - required for funds",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4673b393-b376-4f43-b356-9628d37045e4",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocLedgerId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "62b67f7c-2aa5-4b78-acf8-dca2060f7544",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let ledger = utils.buildLedgerMinContent(\"ALLOC-LDGR\", \"Test transaction ledger\");",
													"ledger.fiscalYearOneId = pm.environment.get(\"allocFiscalYearId\");",
													"pm.environment.set(\"allocLedgerContent\", JSON.stringify(ledger));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocLedgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create group",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8dd77b47-213e-44dc-bc0c-f3764e388ba1",
												"exec": [
													"pm.test(\"Group is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"groupId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "e8615b3b-ddaf-4046-88c5-b6b985c1adb1",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let group = utils.buildGroupMinContent(\"GROUP_GRUD\");",
													"",
													"pm.environment.set(\"groupContent\", JSON.stringify(group));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{groupContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"groups"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7e104aab-781a-4ca6-b4f2-0da99a184dc0",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"toFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"ALLOC-FND\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "18a5a007-f4ed-41e3-a2fb-06c33b2e9ff5",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocFundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"ALLOC-FND\", pm.environment.get(\"allocLedgerId\")), [pm.environment.get(\"groupId\")])));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocFundContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "10e2ce89-18e0-4687-ba0e-3a3085328c58",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function() {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"allocBudgetId\", record.id); ",
													"    pm.expect(record.name).to.eql(\"ALLOC-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d4c8e139-49dc-48c0-845b-85340836a71a",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"ALLOC-BDGT\", pm.environment.get(\"toFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get fiscal year by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "58ad7d7a-5fbd-43a2-b352-d45b4dab07ac",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Fiscal year is retrieved\", function() {",
													"    pm.response.to.be.ok;",
													"    utils.validateFiscalYear(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "b4907334-26d1-451c-ba9c-8962077a17a6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{allocFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{allocFiscalYearId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4fb79724-08db-46d9-a287-b443f419e1cd",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Fund is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateCompositeFund(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "89bb2048-6311-48dd-8f73-54c271f5c2ec",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{toFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8ced9dc7-71e9-4585-b99b-63647ce84071",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Budget is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateBudget(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "eb33f0a4-2029-4d85-95bc-8f882951c8a1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{allocBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get group fund fiscal year by budgetId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "33173064-70dd-478b-9f8a-029881498a97",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Group fund fiscal year founded - deleted\", function () {",
													"    pm.response.to.be.ok;",
													"    let records = pm.response.json();",
													"    pm.expect(records.groupFundFiscalYears).to.have.lengthOf(1);",
													"    pm.expect(records.totalRecords).to.equal(1);",
													"    pm.environment.set(\"groupFundFYId\", records.groupFundFiscalYears[0].id)",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3822d7c4-dff6-4f55-b8ba-b0d6940eb98b",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years?query=budgetId=={{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"group-fund-fiscal-years"
											],
											"query": [
												{
													"key": "query",
													"value": "budgetId=={{allocBudgetId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create allocations",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "640e589f-a4d7-4724-be9f-aad66209944d",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id); ",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "1dfc4291-a298-492b-b727-ab20aaffec71",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionMinContent(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"toFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get transaction by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2eb61350-5939-45a9-8986-30afcbd37ac7",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Transaction allocation is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateTransaction(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c04ade66-51f4-47b0-892a-32eaca2b5611",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5dd6b4fa-e104-4df5-99ed-22ae86b02e80",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "495aae36-cecf-4a7c-96e8-a7ae69cbc759",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "faecac9a-56ff-4fdb-86b8-c580f797f353",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a87b629e-255b-4c3c-ad98-467624ad5f4d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{allocBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get group fund fiscal year by budgetId after budget deletion",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b32ac88d-bd75-4c54-9134-c4b9aa43fc2b",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Group fund fiscal year founded - deleted\", function () {",
													"    pm.response.to.be.ok;",
													"    let record = pm.response.json();",
													"    pm.expect(record).not.empty;",
													"    pm.expect(record).to.not.have.property('budgetId');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "4d997a4f-c119-4651-b1f3-e752fe8e5b36",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken-testAdmin}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/group-fund-fiscal-years/{{groupFundFYId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"group-fund-fiscal-years",
												"{{groupFundFYId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c6977cf2-4a4f-461d-a63b-39a5fcab2a07",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "0b1727e4-6076-4472-8a78-3d66db93aa4f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{toFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Ledger",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0ae419b4-cc79-4828-8165-dd07f98b59b0",
												"exec": [
													"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "18e9def3-d2ac-4532-95b9-0ebde4252c6e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{allocLedgerId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{allocLedgerId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ccceb3a6-0dc6-4a0f-987e-d9efc23a930f",
												"exec": [
													"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "912f5a03-2720-4faf-8804-4ea625d71a09",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{allocFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{allocFiscalYearId}}"
											]
										}
									},
									"response": []
								}
							],
							"description": "Budget deletion without transaction",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "af809e7b-725c-4aa5-bd41-67cd1957854b",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "006751b9-46da-4de1-a487-245056b6281d",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create first budget",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4ffd224b-de25-426b-bd47-6b393264d2e2",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Budget is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    record = pm.response.json();",
											"});",
											"",
											"pm.test(\"Budget content is valid\", function() {",
											"    utils.validateBudget(record);",
											"    pm.environment.set(\"budgetId\", record.id); ",
											"    pm.expect(record.name).to.eql(\"FRST-BDGT\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e6bc487c-ecb3-41c5-8a86-5dba34966120",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"budgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"FRST-BDGT\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{budgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get budget record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "867a6dd7-6453-4fa8-b410-b4f699a1d05c",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Budget is retrieved\", function () {",
											"    pm.response.to.be.ok;",
											"    utils.validateBudget(pm.response.json());",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "33dbd39f-6166-4569-ab79-613329647866",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{budgetId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets",
										"{{budgetId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create second budget",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "71c1cb5b-2c44-4510-ab2d-403241f4db55",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Budget is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    record = pm.response.json();",
											"});",
											"",
											"pm.test(\"Budget content is valid\", function() {",
											"    utils.validateBudget(record);",
											"    pm.environment.set(\"budgetId2\", record.id);",
											"    pm.environment.set(\"budgetContent2\", record);",
											"    pm.expect(record.budgetStatus).to.eql(\"Planned\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3cdce30b-fd13-4f8c-b069-add741dda15e",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let budget = utils.buildBudgetMinContent(\"SCND-BDGT\");",
											"budget.budgetStatus = \"Planned\";",
											"budget.fiscalYearId = pm.environment.get(\"secondFiscalYearId\");",
											"",
											"pm.variables.set(\"budgetContent\", JSON.stringify(budget));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{budgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get budget records by complex query - 1 record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "14253853-4a0a-47fb-ba3b-ff1e3aff9446",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"One budget record is found\", function () {",
											"    pm.response.to.be.ok;",
											"    let records = pm.response.json();",
											"    pm.expect(records.budgets).to.have.lengthOf(1);",
											"    utils.validateBudget(records.budgets[0]);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "81b07e2c-51f9-4e72-8417-097628ad82f9",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets?query=budgetStatus==Planned and fund.fundStatus==Active and ledger.name=test and fiscalYear.periodEnd > 2019-12-12",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									],
									"query": [
										{
											"key": "query",
											"value": "budgetStatus==Planned and fund.fundStatus==Active and ledger.name=test and fiscalYear.periodEnd > 2019-12-12"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update second budget",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "49807392-056e-4f16-9e9f-0734b870cb36",
										"exec": [
											"pm.test(\"Budget is updated\", () => pm.response.to.have.status(204));",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "168da5b6-7a7e-463c-b735-beefc540c885",
										"exec": [
											"let record = pm.environment.get(\"budgetContent2\");",
											"record.budgetStatus = \"Frozen\";",
											"pm.variables.set(\"budgetContent\", JSON.stringify(record));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{budgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{budgetId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets",
										"{{budgetId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get second budget record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f75aecfc-999b-41fc-83c6-cb78c6d7d835",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Budget is retrieved\", function () {",
											"    pm.response.to.be.ok;",
											"    let record = pm.response.json();",
											"    utils.validateBudget(record);",
											"    pm.expect(record.budgetStatus).to.eql(\"Frozen\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e75f721b-fdd4-4b5d-b30e-8ff509099f1c",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{budgetId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets",
										"{{budgetId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get budget records by complex query- 2 records",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "792fceed-c1a6-40c6-9d07-d0bb0cbe460b",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"2 budget records are found\", function () {",
											"    pm.response.to.be.ok;",
											"    let collection = pm.response.json();",
											"    pm.expect(collection.budgets).to.have.lengthOf(2);",
											"    collection.budgets.forEach(record => utils.validateBudget(record));",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "84aba57a-684a-4c7b-b204-9b13a38493f1",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets?query=fund.fundStatus==Active and ledger.name=test and fiscalYear.periodEnd > 2019-12-12",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									],
									"query": [
										{
											"key": "query",
											"value": "fund.fundStatus==Active and ledger.name=test and fiscalYear.periodEnd > 2019-12-12"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete second budget record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "13f3f6a0-34ea-4d95-b3e2-b657c85345ba",
										"exec": [
											"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "6a4616cb-94c8-40ad-9a88-8957574195c5",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{budgetId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets",
										"{{budgetId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get budget records without query - 1 record",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8dcf16a9-de8b-42f8-a942-6ab307a60da6",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"One budget record is found\", function () {",
											"    pm.response.to.be.ok;",
											"    let collection = pm.response.json();",
											"    pm.expect(collection.budgets).to.have.lengthOf(1);",
											"    utils.validateBudget(collection.budgets[0]);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f3493672-bac1-483b-b631-b4b3dbb19db7",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Group Fund Fiscal Years",
					"item": [
						{
							"name": "Create group fund fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4ab83e00-ae2c-466b-a74b-b994c27865bb",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Group fund fiscal year is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    record = pm.response.json();",
											"    pm.environment.set(\"groupFundFiscalYearForCrudId\", record.id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c71aa232-8b7b-43dd-a488-c16c0a6aa071",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"groupFundFiscalYearContent\", ",
											"JSON.stringify(utils.buildGroupFundFiscalYearMinContent(pm.environment.get(\"groupId\"), pm.environment.get(\"fundId\"), pm.environment.get(\"fiscalYearId\"))));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupFundFiscalYearContent}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years"
									]
								}
							},
							"response": []
						},
						{
							"name": "Verify created group fund fiscal years",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1da70a50-9aa2-450f-83ca-2e45c55fb04a",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Group fund fiscal year founded\", function () {",
											"    pm.response.to.be.ok;",
											"    let records = pm.response.json();",
											"    pm.expect(records.groupFundFiscalYears).to.have.lengthOf(1);",
											"    pm.expect(records.totalRecords).to.equal(1);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c953b9e7-43f0-4d01-b9da-a50957d46c87",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years?query=id={{groupFundFiscalYearForCrudId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years"
									],
									"query": [
										{
											"key": "query",
											"value": "id={{groupFundFiscalYearForCrudId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete group fund fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "88cb2ba4-9f88-451b-b783-d90271c914ba",
										"exec": [
											"pm.test(\"Group fund fiscal year type is deleted\", () => pm.response.to.have.status(204));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0e9888d1-1531-4ae9-90da-13c41ee2451d",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years/{{groupFundFiscalYearForCrudId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years",
										"{{groupFundFiscalYearForCrudId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get group fund fiscal year by query",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ad534e1c-5413-4d2d-a8b9-335666470074",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Group fund fiscal year founded - deleted\", function () {",
											"    pm.response.to.be.ok;",
											"    let records = pm.response.json();",
											"    pm.expect(records.groupFundFiscalYears).to.have.lengthOf(0);",
											"    pm.expect(records.totalRecords).to.equal(0);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c20e687f-2bbd-4133-8e48-017aa5b767ed",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years?query=id=={{groupFundFiscalYearForCrudId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years"
									],
									"query": [
										{
											"key": "query",
											"value": "id=={{groupFundFiscalYearForCrudId}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Assign funds to groups",
					"item": [
						{
							"name": "Prepare data for testing",
							"item": [
								{
									"name": "Create group 1 - required for funds",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "eb748c6a-077d-43fe-9d70-30dbf538ffce",
												"exec": [
													"pm.test(\"Group is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"groupId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c9f7130e-3281-46cc-9325-2e68d4ee594a",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"groupContent\", JSON.stringify(utils.buildGroupMinContent()));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{groupContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"groups"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create group 2 - required for funds",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "52ae5202-5fd6-4ba3-8267-a1b0f5de8bd0",
												"exec": [
													"pm.test(\"Group is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"groupId2\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "14d29980-a46b-4579-8872-6f2161babd89",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let group = utils.buildGroupMinContent();",
													"group.code = \"tst-grp-2\";",
													"group.name = \"Test group 2\";",
													"pm.variables.set(\"groupContent\", JSON.stringify(group));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{groupContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"groups"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create fiscal year one - test current fy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "16f14092-fa1a-45bd-a49f-abfdf3c37338",
												"exec": [
													"pm.test(\"Fiscal year is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"testCurrentFiscalYearOneId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "f2e52f7c-eea9-43a3-add2-a61cf0cee19e",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"const moment = require('moment');",
													"",
													"var fiscalYear = utils.buildFiscalYearMinContent();",
													"var start = moment().startOf('year').subtract(2, 'year');",
													"var end = moment().endOf('year').subtract(2, 'year');",
													"",
													"fiscalYear.periodStart = start.format('YYYY-MM-DD');",
													"fiscalYear.periodEnd = end.format('YYYY-MM-DD');",
													"fiscalYear.series = \"TESTCURRENT\";",
													"fiscalYear.code = \"TESTCURRENT2018\";",
													"",
													"pm.variables.set(\"fyContent\", JSON.stringify(fiscalYear));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{fyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create fiscal year one - test next fy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3dabd6ea-b360-44c4-ad24-63cc4c53de8e",
												"exec": [
													"pm.test(\"Fiscal year is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"testNextFiscalYearOneId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ca896162-d8d3-42e1-90bd-13a62c924665",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"const moment = require('moment');",
													"",
													"var fiscalYear = utils.buildFiscalYearMinContent();",
													"var start = moment().startOf('year').subtract(2, 'year');",
													"var end = moment().endOf('year').subtract(2, 'year');",
													"",
													"fiscalYear.periodStart = start.format('YYYY-MM-DD');",
													"fiscalYear.periodEnd = end.format('YYYY-MM-DD');",
													"fiscalYear.series = \"TESTNEXT\";",
													"fiscalYear.code = \"TESTNEXT2018\";",
													"",
													"pm.variables.set(\"fyContent\", JSON.stringify(fiscalYear));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{fyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create current fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d72164e4-a06f-487b-96aa-ee2d964129cd",
												"exec": [
													"pm.test(\"Fiscal year is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"currentFiscalYearId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3e2baa3c-4c8c-4f5b-a21f-5597a137cf7c",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"const moment = require('moment');",
													"var fiscalYear = utils.buildFiscalYearMinContent();",
													"var start = moment().startOf('year');",
													"var end = moment().endOf('year');",
													"fiscalYear.periodStart = start.format('YYYY-MM-DD');",
													"fiscalYear.periodEnd = end.format('YYYY-MM-DD');",
													"fiscalYear.series = \"TESTCURRENT\";",
													"fiscalYear.code = \"TESTCURRENT2019\";",
													"pm.variables.set(\"fyContent\", JSON.stringify(fiscalYear));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{fyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create next fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b3ff2768-abd4-4ae0-a3bf-99bdd38bf300",
												"exec": [
													"pm.test(\"Fiscal year is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"nextFiscalYearId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3fda1f58-6284-486e-8d00-8d3dd90c25eb",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"const moment = require('moment');",
													"",
													"var fiscalYear = utils.buildFiscalYearMinContent();",
													"var start = moment().startOf('year').add(1, 'year');",
													"var end = moment().endOf('year').add(1, 'year');",
													"",
													"fiscalYear.periodStart = start.format('YYYY-MM-DD');",
													"fiscalYear.periodEnd = end.format('YYYY-MM-DD');",
													"fiscalYear.series = \"TESTNEXT\";",
													"fiscalYear.code = \"TESTNEXT2020\";",
													"pm.variables.set(\"fyContent\", JSON.stringify(fiscalYear));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{fyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ledger current",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a9b8240e-e21d-4aa4-82f5-a6c2eb4cb686",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"currentFyLedgerId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2b359792-9210-4fe5-a752-3a9854ddf326",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let ledger = utils.buildLedgerMinContent();",
													"ledger.fiscalYearOneId = pm.environment.get(\"testCurrentFiscalYearOneId\");",
													"ledger.name = \"Current\";",
													"ledger.code = \"TEST_CURRENT\";",
													"pm.variables.set(\"ledgerContent\", JSON.stringify(ledger));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{ledgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ledger next",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "68933bf3-13f4-4311-8ddf-cfc16f1391f3",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"nextFyLedgerId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "dc5bac7d-1224-4b6a-8c95-3a21f0557549",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let ledger = utils.buildLedgerMinContent();",
													"ledger.fiscalYearOneId = pm.environment.get(\"testNextFiscalYearOneId\");",
													"ledger.name = \"Next\";",
													"ledger.code = \"TEST_NEXT\";",
													"pm.variables.set(\"ledgerContent\", JSON.stringify(ledger));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{ledgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create fund with groups - current fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c8c26cb9-5784-465c-903a-d336fabb2faf",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Fund is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    record = pm.response.json();",
											"});",
											"",
											"pm.test(\"Fund content is valid\", function() {",
											"    utils.validateCompositeFund(record);",
											"    pm.environment.set(\"currentFyFundId\", record.fund.id);",
											"    pm.expect(record.fund.fundTypeId).to.eql(pm.variables.get(\"fundTypeId\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "9769ed43-ffef-4d06-9744-4671acb14f6c",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let fund = utils.buildFundMinContent(\"TEST_CURRENT\");",
											"fund.fundTypeId = pm.variables.get(\"fundTypeId\");",
											"fund.ledgerId = pm.environment.get(\"currentFyLedgerId\");",
											"",
											"let compositeFund = utils.buildCompositeFund(fund);",
											"compositeFund.groupIds.push(pm.environment.get(\"groupId\"));",
											"pm.variables.set(\"fundContent\", JSON.stringify(compositeFund));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get fund with groups - current fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aa6312ec-6fd2-4f2d-bc8b-9de75f36a56d",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Fund is retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    record = pm.response.json();",
											"});",
											"",
											"pm.test(\"Fund content is valid\", function() {",
											"    utils.validateCompositeFund(record);",
											"    pm.environment.set(\"currentFyFundId\", record.fund.id);",
											"    pm.expect(record.groupIds).to.have.lengthOf(1);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "56d25148-a80c-42ee-998d-5662db0515f0",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{currentFyFundId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds",
										"{{currentFyFundId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get group fund fiscal year by query - current FY",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "362c9ccf-3b18-4483-b374-08e803aac05a",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let records = {}; ",
											"",
											"pm.test(\"Group fund fiscal years founded\", function () {",
											"    pm.response.to.be.ok;",
											"    records = pm.response.json();",
											"    pm.expect(records.groupFundFiscalYears).to.have.lengthOf(1);",
											"    pm.expect(records.totalRecords).to.equal(1);",
											"});",
											"",
											"pm.test(\"Group fund fiscal years contain expected year id\", function () {",
											"    records.groupFundFiscalYears.forEach(gffy => {",
											"        pm.expect(gffy.fiscalYearId).to.equal(pm.environment.get(\"currentFiscalYearId\"));",
											"    });",
											"",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "abfc6b36-a49b-442c-8297-02749e6d1927",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years?query=fundId={{currentFyFundId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years"
									],
									"query": [
										{
											"key": "query",
											"value": "fundId={{currentFyFundId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create fund with groups - next fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "370e67e9-815c-4a77-872b-6923f4c4deae",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Fund is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    record = pm.response.json();",
											"});",
											"",
											"pm.test(\"Fund content is valid\", function() {",
											"    utils.validateCompositeFund(record);",
											"    pm.environment.set(\"nextFyFundId\", record.fund.id);",
											"    pm.expect(record.fund.fundTypeId).to.eql(pm.variables.get(\"fundTypeId\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "6d329a06-d682-447c-93c3-26550394f091",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let fund = utils.buildFundMinContent(\"TEST_NEXT\");",
											"fund.fundTypeId = pm.variables.get(\"fundTypeId\");",
											"fund.ledgerId = pm.environment.get(\"nextFyLedgerId\");",
											"",
											"let compositeFund = utils.buildCompositeFund(fund);",
											"compositeFund.groupIds.push(pm.environment.get(\"groupId\"));",
											"pm.variables.set(\"fundContent\", JSON.stringify(compositeFund));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get fund with groups - next fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fe0b87a5-86db-4b4e-aa14-6bdd529879eb",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Fund is retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    record = pm.response.json();",
											"});",
											"",
											"pm.test(\"Fund content is valid\", function() {",
											"    utils.validateCompositeFund(record);",
											"    pm.environment.set(\"currentFyFundId\", record.fund.id);",
											"    pm.expect(record.groupIds).to.have.lengthOf(1);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c5bdbefc-2b51-4264-9535-efc1246c18b3",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{nextFyFundId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds",
										"{{nextFyFundId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get group fund fiscal year by query - next FY",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "40074827-003a-45df-babc-190ffab61fca",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let records = {}; ",
											"",
											"pm.test(\"Group fund fiscal years founded\", function () {",
											"    pm.response.to.be.ok;",
											"    records = pm.response.json();",
											"    pm.expect(records.groupFundFiscalYears).to.have.lengthOf(1);",
											"    pm.expect(records.totalRecords).to.equal(1);",
											"});",
											"",
											"pm.test(\"Group fund fiscal years contain expected year id\", function () {",
											"    records.groupFundFiscalYears.forEach(gffy => {",
											"        pm.expect(gffy.fiscalYearId).to.equal(pm.environment.get(\"nextFiscalYearId\"));",
											"    });",
											"",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "77b38d9b-d727-423c-bc22-80c433aba198",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years?query=fundId={{nextFyFundId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years"
									],
									"query": [
										{
											"key": "query",
											"value": "fundId={{nextFyFundId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update fund with groups - next fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4006dbbf-f004-4e4e-862e-cae6fb6ff760",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let records = {};",
											"",
											"pm.test(\"Composite Fund is updated\", function () {",
											"    pm.response.to.have.status(204);",
											"});",
											"",
											"utils.sendGetRequest('/finance/group-fund-fiscal-years?query=fundId=' + pm.environment.get(\"nextFyFundId\"), (err, res) => {",
											"        pm.test(\"Group fund fiscal year deleted\", function () {",
											"            pm.expect(res).to.be.ok;",
											"             records = res.json();",
											"             pm.expect(records.totalRecords).to.equal(1);",
											"             pm.expect(records.groupFundFiscalYears[0].groupId).to.equal(pm.environment.get(\"groupId2\"));",
											"        });",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d71b6ff3-5be0-4657-8999-476a76aac8bf",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let fund = utils.buildFundMinContent(\"TEST_UPDATE_NEXT\");",
											"fund.fundTypeId = pm.variables.get(\"fundTypeId\");",
											"fund.ledgerId = pm.environment.get(\"nextFyLedgerId\");",
											"",
											"let compositeFund = utils.buildCompositeFund(fund);",
											"compositeFund.groupIds.push(pm.environment.get(\"groupId2\"));",
											"pm.variables.set(\"fundContent\", JSON.stringify(compositeFund));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{nextFyFundId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds",
										"{{nextFyFundId}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Transactions",
					"item": [
						{
							"name": "Restrictions",
							"item": [
								{
									"name": "Create fiscal year  - required for budgets Copy",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "8d1b74ca-7b8d-4c8a-8e07-226539265f7e",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocFyContent\", JSON.stringify(utils.buildFiscalYearMinContent(\"ALLOCFY2019\")));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "dbd77b5a-9ba1-4822-8cbb-09907a4a315a",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocFiscalYearId\", pm.response.json().id);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocFyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ledger - required for funds Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "300ca858-29c7-4345-bfe2-124de8cb2ff2",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocLedgerId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "43b324bd-c31e-40ea-ad70-3eeacb04cd9c",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let ledger = utils.buildLedgerMinContent(\"ALLOC-LDGR\", \"Test transaction ledger\");",
													"ledger.fiscalYearOneId = pm.environment.get(\"allocFiscalYearId\");",
													"pm.environment.set(\"allocLedgerContent\", JSON.stringify(ledger));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocLedgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create HIST fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "328e0dc7-e008-4b38-80f9-39d773e053f7",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"histFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"HIST\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "600f4975-188c-4e2c-b712-4de1e9605efa",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"fund\": {\n\t  \"name\": \"History\",\n\t  \"code\": \"HIST\",\n\t  \"externalAccountNo\": \"276507594438808\",\n\t  \"fundStatus\": \"Active\",\n\t  \"description\": \"subdivided by geographic regions, to match individual selectors\",\n\t  \"ledgerId\": \"{{allocLedgerId}}\"\n\t}\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create CANHIST fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c7e44f2c-853e-406d-b742-099f9da17428",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"canhistFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"CANHIST\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c801e5c5-634c-4d3b-be25-3e704bdb7c7f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"fund\": {\n\t  \"name\": \"Canadian History\",\n\t  \"code\": \"CANHIST\",\n\t  \"externalAccountNo\": \"114929793941270\",\n\t  \"fundStatus\": \"Active\",\n\t  \"description\": \"WAITING FOR ADMIN APPROVAL; use for Canada once CANLATHIST is inactivated\",\n\t  \"ledgerId\": \"{{allocLedgerId}}\",\n\t  \"allocatedFromIds\": [\"{{histFundId}}\"]\n\t}\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create LATHIST fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b62efe8c-da16-4c6c-ab78-26be01d77d20",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"lathistFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"LATHIST\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ae028497-ee2b-4455-95b1-bd1995150aa0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"fund\": {\n\t  \"name\": \"Latin America History\",\n\t  \"code\": \"LATHIST\",\n\t  \"externalAccountNo\": \"114929793941270\",\n\t  \"fundStatus\": \"Active\",\n\t  \"description\": \"WAITING FOR ADMIN APPROVAL\",\n\t  \"ledgerId\": \"{{allocLedgerId}}\"\n\t}\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update HIST fund - add allocatedToIds set",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5165648e-ee7c-4423-8bdc-e2a81466a34f",
												"exec": [
													"pm.test(\"Fund is updated\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5341ce67-4c38-4d0e-aa98-8569cb975844",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"utils.sendGetRequest(\"/finance/funds/\" + pm.environment.get(\"histFundId\"), function (err, res) {",
													"    let histFund = res.json();",
													"    histFund.fund.allocatedToIds = new Array(pm.environment.get(\"canhistFundId\"), pm.environment.get(\"lathistFundId\"));",
													"",
													"    pm.environment.set(\"histFundContent\", JSON.stringify(histFund));",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{histFundContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{histFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{histFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create HIST budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f60172b1-51e2-487d-bb46-6fb40563a478",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function () {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"histBudgetId\", record.id);",
													"    pm.expect(record.name).to.eql(\"HIST-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "36daa56d-4938-4899-b554-c71a80f34e50",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"histBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"HIST-BDGT\", pm.environment.get(\"histFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{histBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create CANHIST budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5e38ffbe-5e77-4bf1-9217-ae54135bcd4e",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function () {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"canhistBudgetId\", record.id);",
													"    pm.expect(record.name).to.eql(\"CANHIST-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d5046dbc-7ac0-4cee-87a1-4a719f4f75dd",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"canhistBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"CANHIST-BDGT\", pm.environment.get(\"canhistFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{canhistBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create LATHIST budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "554cb81e-f3b1-4e18-9d6d-cec6169fc376",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function () {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"lathistBudgetId\", record.id);",
													"    pm.expect(record.name).to.eql(\"LATHIST-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "86ef55bc-0d4f-4584-975b-2e1a129cd7a2",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"lathistBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"LATHIST-BDGT\", pm.environment.get(\"lathistFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{lathistBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create external allocation",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b2bd6bec-78e3-4a99-ad5b-932f2a2dedd9",
												"exec": [
													"let record = {};",
													"",
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id);",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "69a002f8-7b72-4886-adc1-55952b324918",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionMinContent(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"histFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b985184e-9da5-4b14-b084-bf687f485339",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "901edbc1-e294-4052-9bfe-a4ed757a29a3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create allocation matching allocated ids",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "80717f81-750d-47a0-ae2a-b612accde1e2",
												"exec": [
													"let record = {};",
													"",
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id);",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "f636ae68-1c70-4da5-a84e-9c9bc5ad14a0",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"histFundId\"), pm.environment.get(\"canhistFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "549118b3-44c4-439b-bb5e-8f883e1cf34a",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "41f00aed-2982-48bc-b7e3-3d0ca62079d1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create transfer matching allocated ids",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bfccedff-8206-4272-9465-8f122cf416e9",
												"exec": [
													"let record = {};",
													"",
													"pm.test(\"Trasaction transfer is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id);",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Transfer\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "8620f9ba-8687-4945-a3c6-cca45fd228f5",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"histFundId\"), pm.environment.get(\"canhistFundId\"), \"Transfer\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "eb84a6f6-b3ab-4830-bd27-9c8d0caa3504",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "556c7105-22b7-4762-ae6a-42d6173b50d6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create allocation with empty allocated ids",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7467f69b-ebd2-49dc-a9e8-0dc99de18f62",
												"exec": [
													"let record = {};",
													"",
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id);",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ffa7c33b-0bc2-45e3-8083-799ced373f33",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"canhistFundId\"), pm.environment.get(\"lathistFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e0703456-a2a9-43a7-a493-6f6080d7ee81",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "67afee99-e4b6-4e13-bb24-d06c2c563fbc",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create transfer with empty allocated ids",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "cde42856-5c44-4cb5-b5a0-4199121dbbf7",
												"exec": [
													"let record = {};",
													"",
													"pm.test(\"Trasaction transfer is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id);",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Transfer\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a0854cd7-3809-4eac-9ebe-e4bf54c44ce2",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"canhistFundId\"), pm.environment.get(\"lathistFundId\"), \"Transfer\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "05538998-ff52-4bea-bfc5-a76a892bf0e0",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ff1b4bd3-f657-4abc-9d47-0f5190ad7740",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create allocation with empty allocatedFromIds",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "114bac15-9079-4924-a28a-cdf165a07dfa",
												"exec": [
													"let record = {};",
													"",
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id);",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "038239af-97b3-4150-841a-3ec161882795",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"histFundId\"), pm.environment.get(\"lathistFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "667dbbb0-714f-4f72-a427-c3c87d6d15b4",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "501b9ed9-e58a-406c-9fcc-3e2f1516e323",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create transfer with empty allocatedFromIds",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fed6f0f1-0013-4f3e-be3a-118584cfe1a6",
												"exec": [
													"let record = {};",
													"",
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id);",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Transfer\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ca00d0bc-deb2-4fe5-9112-55382a209138",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"histFundId\"), pm.environment.get(\"lathistFundId\"), \"Transfer\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "27cf0e06-05d7-4beb-ba5a-40b297002ba3",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ff28eca8-c087-4e24-a004-bca8b5598b2d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete HIST budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e60df351-1285-4b57-967b-ecdacbad94d3",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "f8bb402d-9df4-4baa-8b64-ab279a56e1a2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{histBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{histBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete CANHIST budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "48b6168b-f3f8-4385-a2dd-4e2f79d19c1f",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5ad01f4d-a88e-4d33-8fa8-0a831596dabe",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{canhistBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{canhistBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete LATHIST budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1b5f10a6-b421-43b5-8ea9-159821fab664",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a539c02c-7c30-436b-ad8c-2acdd08a93be",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{lathistBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{lathistBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete LATHIST fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d00bc40b-ff9b-4b13-a447-f3856ed15e7c",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5cfde9a2-b46b-4eac-9647-6621c0151238",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{lathistFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{lathistFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete CANHIST fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6e6b63f5-c950-4b9e-ae37-251c08c25a55",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5b6ef380-5fb1-4ef7-99c6-a5da96a121f2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{canhistFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{canhistFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete HIST fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "14c2aac6-70da-4eed-90fe-657c8d1f1a91",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "97d87e42-0182-466d-a036-34a8401ffbf2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{histFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{histFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Ledger",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5c869d9c-daf7-4f14-8cf2-bf9faaa671e0",
												"exec": [
													"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "448bf1ed-a666-4078-b0e3-209b3dfe9f49",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{allocLedgerId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{allocLedgerId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "928a912a-1854-4d99-8956-002c63895e46",
												"exec": [
													"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "cd4b54d6-16bf-46a8-810a-64da47fb43bf",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{allocFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{allocFiscalYearId}}"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Allocations",
							"item": [
								{
									"name": "Create fiscal year  - required for budgets",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "8fde30ea-070b-44cf-873e-40c81e9adeb7",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocFyContent\", JSON.stringify(utils.buildFiscalYearMinContent(\"ALLOCFY2019\")));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "faa055b8-7aae-4ce9-a718-ef696b3bf3a3",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocFiscalYearId\", pm.response.json().id);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocFyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ledger - required for funds",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "580452cd-d615-49db-9d14-83f4806b6a87",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocLedgerId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d347d1f7-2871-45d4-932f-f8b77524409a",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let ledger = utils.buildLedgerMinContent(\"ALLOC-LDGR\", \"Test transaction ledger\");",
													"ledger.fiscalYearOneId = pm.environment.get(\"allocFiscalYearId\");",
													"pm.environment.set(\"allocLedgerContent\", JSON.stringify(ledger));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocLedgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "46681770-3d8d-4451-bb69-2e5f28be0654",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"toFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"ALLOC-FND\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "0fafb2de-971a-4c1d-b292-38bd264c5067",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocFundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"ALLOC-FND\", pm.environment.get(\"allocLedgerId\")))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocFundContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "dec65024-44cd-40b8-b6d4-2a4ce27637cf",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function() {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"allocBudgetId\", record.id); ",
													"    pm.expect(record.name).to.eql(\"ALLOC-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6bf0c371-cbd0-4d71-a4f7-614b97fa864d",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"ALLOC-BDGT\", pm.environment.get(\"toFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get fiscal year by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "44121fb6-d0c8-4e3e-9ee8-eae8e84cdb1c",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Fiscal year is retrieved\", function() {",
													"    pm.response.to.be.ok;",
													"    utils.validateFiscalYear(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c558b396-c09f-4802-aec2-9747be403d6e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{allocFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{allocFiscalYearId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "06c13fa1-9970-4056-a4e2-114362510086",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Fund is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateCompositeFund(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "54f52cdb-9b3e-48b5-acb4-6b13ae0a46c1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{toFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "61cb8c73-8cee-4026-8c65-ab1cf986ce9d",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Budget is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateBudget(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "07478a59-0f5a-4730-900a-c5c1d900dc7c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{allocBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create allocations",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "edc2b0d9-af71-45ab-8e5c-d91d9a6f49e4",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id); ",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "7e67d04f-f749-4a49-a08e-5ff25ba2d1cc",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionMinContent(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"toFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get transaction by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f1eba0f2-8c37-488d-9aae-469012590dbb",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Transaction allocation is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateTransaction(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3b547be6-db7a-408d-a1d3-c82596b63b95",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get transaction records by query - 1 record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "11d47a8b-6623-41d0-9781-e2e82a503b7a",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"One transaction record is found\", function () {",
													"    pm.response.to.be.ok;",
													"    let records = pm.response.json();",
													"    pm.expect(records.transactions).to.have.lengthOf(1);",
													"    utils.validateTransaction(records.transactions[0]);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "1504bf6b-87c1-46ff-aaab-5e74bef3f776",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions?query=id=={{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions"
											],
											"query": [
												{
													"key": "query",
													"value": "id=={{transactionId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get ledger record with summary",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7e5534c7-5814-430c-a994-6e98014d8a27",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Ledger is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    let ledger = pm.response.json();",
													"    utils.validateLedger(ledger);",
													"    let allocation = JSON.parse(pm.environment.get(\"allocationContent\"));",
													"    pm.expect(ledger.allocated).to.equal(allocation.amount);",
													"    pm.expect(ledger.available).to.equal(allocation.amount);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9668692a-b12b-4237-8ca1-388aad24002a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{allocLedgerId}}?fiscalYear={{allocFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{allocLedgerId}}"
											],
											"query": [
												{
													"key": "fiscalYear",
													"value": "{{allocFiscalYearId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get ledger records by fiscalYear with summary",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "70cd88ee-451e-4bf8-9fd1-c0738e9db989",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Ledgers are retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    let ledger = pm.response.json().ledgers[0];",
													"    utils.validateLedger(ledger);",
													"    let allocation = JSON.parse(pm.environment.get(\"allocationContent\"));",
													"    pm.expect(ledger.allocated).to.equal(allocation.amount);",
													"    pm.expect(ledger.available).to.equal(allocation.amount);",
													"    pm.environment.unset(\"allocationContent\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "86f7a256-b9ab-4dfc-bddc-39ad55277235",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers?fiscalYear={{allocFiscalYearId}}&query=id=={{allocLedgerId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											],
											"query": [
												{
													"key": "fiscalYear",
													"value": "{{allocFiscalYearId}}"
												},
												{
													"key": "query",
													"value": "id=={{allocLedgerId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9a4d8176-4e83-41f1-a562-ce7998ea2c19",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6d2f095f-a0c3-4f12-9410-c45b4075e610",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "53f21c03-00fb-4d1e-bfe1-d0adcd269a6a",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "880d089c-c7e5-490c-9c29-b739c965717a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{allocBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d1ce6ae4-4950-4c11-981b-8361035833ef",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2276c7bc-59b9-496d-8363-39f6cbd80584",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{toFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Ledger",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "50937564-e697-4624-94d8-ea44e5cb44a7",
												"exec": [
													"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "7600234b-2b99-4c8c-8486-b7ceeea8ebca",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{allocLedgerId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{allocLedgerId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bfc6fccc-4b8e-44cb-a9a9-50cb97c4a218",
												"exec": [
													"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "f5e076e5-1fa1-4387-9dcf-68f57d5eeef5",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{allocFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{allocFiscalYearId}}"
											]
										}
									},
									"response": []
								}
							],
							"description": "Create Transaction allocations",
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Encumbrances",
							"item": [
								{
									"name": "Prepare data for encumbrances",
									"item": [
										{
											"name": "Create order transaction summaries",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "e237425a-0e82-448d-80f3-59e45ff21fdd",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "2b41db01-d5e5-4534-a4fa-e832db3f3fa2",
														"exec": [
															"pm.test(\"Order transaction summary is created\", () => {",
															"    pm.response.to.have.status(201);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"id\": \"e5ae4afd-3fa9-494e-a972-f541df9b877e\",\r\n  \"numTransactions\": 1\r\n}\r\n"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/order-transaction-summaries",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"order-transaction-summaries"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create fiscal year  - required for budgets Copy",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "e8918301-97c9-4fd6-a1b6-461031967995",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"encFyContent\", JSON.stringify(utils.buildFiscalYearMinContent(\"ENCFY2019\")));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "40c46e79-1a22-48e1-af15-e1400edd46b6",
														"exec": [
															"pm.test(\"Ledger is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"encFiscalYearId\", pm.response.json().id);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{encFyContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"fiscal-years"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create ledger - required for funds",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e34408a8-741a-4f45-9274-3c78daf6303a",
														"exec": [
															"pm.test(\"Ledger is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"encLedgerId\", pm.response.json().id); ",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "f5b8dd48-07ab-4b2c-9eb9-0e75a7923956",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let ledger = utils.buildLedgerMinContent(\"ENC-LDGR\", \"Test encumbrance ledger\");",
															"ledger.fiscalYearOneId = pm.environment.get(\"encFiscalYearId\");",
															"pm.variables.set(\"encLedgerContent\", JSON.stringify(ledger));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{encLedgerContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"ledgers"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create fromFund - required for transactions",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "c3ab2c86-065b-4fe5-b0b6-1462ee0f4317",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let record = {};",
															"",
															"pm.test(\"Encumbrance Fund is created\", function () {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"});",
															"",
															"pm.test(\"Encumbrance Fund content is valid\", function() {",
															"    utils.validateCompositeFund(record);",
															"    pm.environment.set(\"fromFundId\", record.fund.id); ",
															"    pm.expect(record.fund.code).to.eql(\"ENC-FND\");",
															"});",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "f4b05a09-e96e-44f0-96a9-75aca465fb6b",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"encFundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"ENC-FND\", pm.environment.get(\"encLedgerId\")))));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{encFundContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"funds"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create toFund - required for transactions",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "219d9516-1fff-4cad-8aca-30de3d6a7b56",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let record = {};",
															"",
															"pm.test(\"Encumbrance Fund is created\", function () {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"});",
															"",
															"pm.test(\"Encumbrance Fund content is valid\", function() {",
															"    utils.validateCompositeFund(record);",
															"    pm.environment.set(\"toFundId\", record.fund.id); ",
															"    pm.expect(record.fund.code).to.eql(\"ENC-FND2\");",
															"});",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "201df68a-1c9d-44b2-b9c2-1c4f1a5fa162",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"encFundContent2\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"ENC-FND2\", pm.environment.get(\"encLedgerId\")))));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{encFundContent2}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"funds"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create budget",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "35c78033-a456-46d8-82c3-b301a014c374",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let record = {};",
															"",
															"pm.test(\"Budget is created\", function () {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"});",
															"",
															"pm.test(\"Budget content is valid\", function() {",
															"    utils.validateBudget(record);",
															"    pm.environment.set(\"encBudgetId\", record.id); ",
															"    pm.expect(record.name).to.eql(\"ENC-BDGT\");",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "fa22bafb-785f-4bbc-a213-2f79312071f6",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"encBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"ENC-BDGT\", pm.environment.get(\"fromFundId\"), pm.environment.get(\"encFiscalYearId\"))));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{encBudgetContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get fiscal year by id",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "4b16ccf3-2f67-461a-99f6-8220500f0af5",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Fiscal year is retrieved\", function() {",
															"    pm.response.to.be.ok;",
															"    utils.validateFiscalYear(pm.response.json());",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "34d4407c-c915-407f-bd7e-ae9146b04cff",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{encFiscalYearId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"fiscal-years",
														"{{encFiscalYearId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get fund record",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "dc08775f-740f-4e39-a6cd-796f83e70e0d",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Fund is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    utils.validateCompositeFund(pm.response.json());",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "1f0eb1ec-335d-4b1f-ac95-9f8677db0ce5",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"funds",
														"{{toFundId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Allocate money for budget",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0c599429-f7cc-4c28-b394-d0a1ca180635",
														"exec": [
															"let record = {};",
															"pm.test(\"Trasaction allocation is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"transactionId\", pm.response.json().id); ",
															"    record = pm.response.json();",
															"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "058aae6b-9cce-4589-a329-8111e60438c7",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionMinContent(2500, pm.environment.get(\"encFiscalYearId\"), pm.environment.get(\"fromFundId\"), \"Allocation\")));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{allocationContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"allocations"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get budget record",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "2a22a86d-d498-4901-85d2-a92d73eced94",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Budget is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    utils.validateBudget(pm.response.json());",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "a869b6a1-b5e3-4b60-ac4a-b7cfe98bfa5e",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{encBudgetId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets",
														"{{encBudgetId}}"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Test Encumbrance Restrictions",
									"item": [
										{
											"name": "Create encumbrance with insufficient funds",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "68648d58-ebe5-4124-a3fb-c02bd4f00c46",
														"exec": [
															"let record = {};",
															"pm.test(\"Trasaction encumbrance is not created\", () => {",
															"    pm.response.to.have.status(400);",
															"    response = pm.response.json();",
															"    pm.expect(response.errors[0].message).to.equal(\"Fund cannot be paid due to restrictions\");",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "497a66c9-1fd5-41c6-9e4b-c22e6779fe43",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"let encumbranceRemainingAmount = 2501;",
															"",
															"let encumbranceMinContent = utils.buildEncumbranceMinContent();",
															"let transactionEncumbrance = utils.buildTransactionMinContent(encumbranceRemainingAmount, pm.environment.get(\"encFiscalYearId\"), pm.environment.get(\"toFundId\"), \"Encumbrance\");",
															"",
															"transactionEncumbrance.encumbrance = encumbranceMinContent;",
															"transactionEncumbrance.fromFundId = pm.environment.get(\"fromFundId\");",
															"pm.environment.set(\"restrictedEncumbranceContent\", JSON.stringify(transactionEncumbrance));",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{restrictedEncumbranceContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/encumbrances",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"encumbrances"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "ce83a98a-e82a-49de-93e3-4b38cfca69b0",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "3fc19cd7-7f63-4789-9d75-97b38ba95706",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Create order transaction summaries to release",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "81f4931a-c3f3-4665-848a-c59fba910187",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "79dd6629-d60f-4f34-9509-ae06648ca7a5",
												"exec": [
													"pm.test(\"Order transaction summary is created\", () => {",
													"    pm.environment.set(\"orderTransactionIdToRelease\", pm.response.json().id);",
													"    pm.response.to.have.status(201);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"id\": \"e5ae4afd-3fa9-494e-a972-f541df9b8771\",\r\n  \"numTransactions\": 1\r\n}\r\n"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/order-transaction-summaries",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"order-transaction-summaries"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create invoice transaction summary to release",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bfe16df5-e218-476a-bba3-139e3930f7ef",
												"exec": [
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.environment.set(\"invoiceTransactionSummaryIdToRelease\", pm.response.json().id);",
													"    pm.response.to.have.status(201);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "dc86d74d-155d-4aff-b3ba-bdb59f42ec4d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"id\": \"187c7e6f-782a-4bd0-a04e-7174d4da2429\",\n  \"numPendingPayments\": 1,\n  \"numPaymentsCredits\": 1\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/invoice-transaction-summaries",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"invoice-transaction-summaries"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create encumbrances to release",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "69512448-24fe-490e-8c0e-4fd60626fac8",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction encumbrance is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"encumbranceIdToRelease\", pm.response.json().id);",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Encumbrance\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3908f57d-501c-498c-bde8-ee6559687e29",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"var uuid = require(\"uuid\");",
													"",
													"",
													"let encumbranceMinContent = utils.buildEncumbranceMinContent();",
													"let transactionEncumbrance = utils.buildTransactionMinContent(25, pm.environment.get(\"encFiscalYearId\"), pm.environment.get(\"toFundId\"), \"Encumbrance\");",
													"",
													"transactionEncumbrance.encumbrance = encumbranceMinContent;",
													"",
													"transactionEncumbrance.encumbrance.sourcePurchaseOrderId = pm.environment.get(\"orderTransactionIdToRelease\");",
													"transactionEncumbrance.sourceInvoiceId = pm.environment.get(\"invoiceTransactionSummaryIdToRelease\");",
													"transactionEncumbrance.fromFundId = pm.environment.get(\"fromFundId\");",
													"",
													"",
													"pm.environment.set(\"encumbranceContent\", JSON.stringify(transactionEncumbrance));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{encumbranceContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/encumbrances",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"encumbrances"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get ledger record with summary",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "68b7dac3-9852-4539-8f22-5b2aec61fbd0",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Ledger is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    let ledger = pm.response.json();",
													"    utils.validateLedger(ledger);",
													"    let encumbrance = JSON.parse(pm.environment.get(\"encumbranceContent\"));",
													"    pm.expect(ledger.available).to.equal(2500 - encumbrance.amount);",
													"    pm.expect(ledger.unavailable).to.equal(encumbrance.amount);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a5785765-03c9-4ed9-91fb-48c7a959101d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{encLedgerId}}?fiscalYear={{encFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{encLedgerId}}"
											],
											"query": [
												{
													"key": "fiscalYear",
													"value": "{{encFiscalYearId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Release encumbrance request",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "318bb841-27ae-4241-af65-33a23c171b3b",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Encumbrance successfully released\", () => {",
													"    pm.response.to.have.status(204);",
													"});",
													"",
													"",
													"utils.sendGetRequest(\"/finance/budgets/\" + pm.environment.get(\"encBudgetId\"), (err, res) => {",
													"    let budget = res.json();",
													"    pm.test(\"Budget updated\", () => {",
													"        pm.expect(budget.encumbered).to.equal(0);",
													"        pm.expect(budget.available).to.equal(2500);",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "e5c0576c-11b1-4e27-a014-98b378b6c857",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/release-encumbrance/{{encumbranceIdToRelease}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"release-encumbrance",
												"{{encumbranceIdToRelease}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create encumbrances",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1ae9f410-83de-40e0-9287-4bbaddd1dd37",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction encumbrance is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"encumbranceId\", pm.response.json().id);",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Encumbrance\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "817eda7b-ffcb-45af-99bb-ec55e89f7d46",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"var uuid = require(\"uuid\");",
													"",
													"",
													"let encumbranceMinContent = utils.buildEncumbranceMinContent();",
													"let transactionEncumbrance = utils.buildTransactionMinContent(25, pm.environment.get(\"encFiscalYearId\"), pm.environment.get(\"toFundId\"), \"Encumbrance\");",
													"",
													"transactionEncumbrance.encumbrance = encumbranceMinContent;",
													"transactionEncumbrance.fromFundId = pm.environment.get(\"fromFundId\");",
													"",
													"pm.environment.set(\"encumbranceContent\", JSON.stringify(transactionEncumbrance));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{encumbranceContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/encumbrances",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"encumbrances"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get transaction records by query - 1 record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "040694cc-e3ad-4925-a9e1-7695892c67ad",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"One transaction record is found\", function () {",
													"    pm.response.to.be.ok;",
													"    let records = pm.response.json();",
													"    pm.expect(records.transactions).to.have.lengthOf(1);",
													"    utils.validateTransaction(records.transactions[0]);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c37c102e-55a9-4ae3-8e92-efd57132a95d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions?query=id=={{encumbranceId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions"
											],
											"query": [
												{
													"key": "query",
													"value": "id=={{encumbranceId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create invoice transaction summary",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "09cddefa-9ed9-4be4-816b-886159d18804",
												"exec": [
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "4bb71e85-2210-49d1-bc26-cdb336093750",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"id\": \"187c7e6f-782a-4bd0-a04e-7174d4da2428\",\n  \"numPendingPayments\": 1,\n  \"numPaymentsCredits\": 1\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/invoice-transaction-summaries",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"invoice-transaction-summaries"
											]
										}
									},
									"response": []
								},
								{
									"name": "Awayting payment request",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4530eb51-6656-4a61-a5ce-d627597c57f7",
												"exec": [
													"let record = {};",
													"pm.test(\"Money were moved to awaitng payment\", () => {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "67a9ce4b-4265-4c5c-9aee-a2e792ef1ac9",
												"exec": [
													"var uuid = require(\"uuid\");",
													"",
													"pm.environment.set(\"awaitingPaymentContent\", JSON.stringify({",
													"    \"encumbranceId\": \"{{encumbranceId}}\",",
													"    \"amountAwaitingPayment\": \"18.44\",",
													"    \"releaseEncumbrance\": \"false\",",
													"    \"invoiceId\": \"187c7e6f-782a-4bd0-a04e-7174d4da2428\",",
													"    \"invoiceLineId\": uuid.v4()",
													"}));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{awaitingPaymentContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/awaiting-payment",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"awaiting-payment"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get transaction by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d922f11d-747c-425e-9ba1-74e439f5ace1",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Transaction encumbrance is retrieved\", function() {",
													"    pm.response.to.be.ok;",
													"    utils.validateTransaction(pm.response.json());",
													"});",
													"",
													"",
													"pm.test(\"Verify money were moved to awating payment\", function() {",
													"    pm.response.to.be.ok;",
													"    let previousAmountValue = JSON.parse(pm.environment.get(\"encumbranceContent\")).encumbrance.amountAwaitingPayment || 0;",
													"    let awatingPaymentAmount = JSON.parse(pm.environment.get(\"awaitingPaymentContent\")).amountAwaitingPayment;",
													"    console.log(awatingPaymentAmount);",
													"",
													"    let newAmount = pm.response.json().encumbrance.amountAwaitingPayment;",
													"    pm.expect(newAmount).to.eql(+previousAmountValue + +awatingPaymentAmount);",
													"",
													"    utils.validateTransaction(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "e25b8bd1-d6e0-4859-8efd-e7585594699e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{encumbranceId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions",
												"{{encumbranceId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6082e142-e313-4b48-9b5c-e4b36bb58747",
												"exec": [
													"pm.test(\"Encumbrance is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "934a651b-bbf4-4d1e-81c1-49f1df14506d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{encumbranceId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{encumbranceId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction to release",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "be053775-b195-4192-acab-4b5fde2d7cb5",
												"exec": [
													"pm.test(\"Encumbrance is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6edc81fb-8a2d-4902-a62b-eef7a57b174a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{encumbranceIdToRelease}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{encumbranceIdToRelease}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete allocation",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "dcd1ef58-6a85-421f-a19e-693669e2e796",
												"exec": [
													"pm.test(\"Allocation is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d94df666-407c-48d0-88da-c56606f78b1a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "70ae8b57-60b8-4f16-b7e2-4d1d42aeee1c",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "7b4d2171-8627-4d27-9bf8-258d76ec30d3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{encBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{encBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fromFund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c398ac12-af37-4c3f-81ac-8b91288ce1e6",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "0c26a435-be80-4e26-8ef2-9d62c8d24ee1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fromFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{fromFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete toFund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c6575040-4ced-422c-bd46-7d4b66cd15b0",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "4fb2d432-37d3-4be4-8315-7bdf36895824",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{toFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Ledger",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "29e5666a-4246-4e24-a011-61e45596d877",
												"exec": [
													"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c25dc6bd-a94d-4e36-97a8-5f1bca4a0d0c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{encLedgerId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{encLedgerId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "168f41c7-dc4b-4034-a469-d8ccd7a74410",
												"exec": [
													"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9185b45a-141e-4fa2-b159-40a687a3d7df",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{encFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{encFiscalYearId}}"
											]
										}
									},
									"response": []
								}
							],
							"description": "Create Transaction encumbrances",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4c2c2a5e-1f45-4aef-b264-aa5011d8179a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "a1791bf3-8c5a-4c82-9d6f-7c467a149bb3",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Pending payments",
							"item": [
								{
									"name": "Prepare data",
									"item": [
										{
											"name": "Create fiscal year  - required for budgets",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "335f8a78-9912-4402-968a-4bfe1bae337e",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"pcFyContent\", JSON.stringify(utils.buildFiscalYearMinContent(\"PCFY2020\")));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "b651f40b-9b09-4a37-bca4-69c41f7cae33",
														"exec": [
															"pm.test(\"Fisscal Year is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"pcFiscalYearId\", pm.response.json().id);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcFyContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"fiscal-years"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create ledger - required for funds",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "6504a873-8da9-48b0-9e6e-097d0872062f",
														"exec": [
															"pm.test(\"Ledger is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"pcLedgerId\", pm.response.json().id); ",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "6f4e230c-115a-49f1-9e96-13688ed32912",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let ledger = utils.buildLedgerMinContent(\"PC-LDGR\", \"Test transaction ledger\");",
															"ledger.fiscalYearOneId = pm.environment.get(\"pcFiscalYearId\");",
															"pm.environment.set(\"pcLedgerContent\", JSON.stringify(ledger));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcLedgerContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"ledgers"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create fund 1 - required for transactions",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "32081ab1-6905-4417-8855-54aa13581597",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let record = {};",
															"",
															"pm.test(\"Fund is created\", function () {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"});",
															"",
															"pm.test(\"Fund content is valid\", function() {",
															"    utils.validateCompositeFund(record);",
															"    pm.environment.set(\"fromFund1Id\", record.fund.id); ",
															"    pm.expect(record.fund.code).to.eql(\"PP-FND1\");",
															"});",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "bf78d30f-7f15-45a2-8c6e-c2d50b97ae17",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"pcFundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"PP-FND1\", pm.environment.get(\"pcLedgerId\")))));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcFundContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"funds"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create fund 2 - required for transactions",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0b11f102-527c-4c8e-9717-6357b2d0da92",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let record = {};",
															"",
															"pm.test(\"Fund is created\", function () {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"});",
															"",
															"pm.test(\"Fund content is valid\", function() {",
															"    utils.validateCompositeFund(record);",
															"    pm.environment.set(\"fromFund2Id\", record.fund.id); ",
															"    pm.expect(record.fund.code).to.eql(\"PP-FND2\");",
															"});",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "a94b7527-e9dc-4355-a14f-0d7ec912226d",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"pcFundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"PP-FND2\", pm.environment.get(\"pcLedgerId\")))));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcFundContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"funds"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create budget 1",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "9184b89f-47c2-4ac1-9ac6-010f1f602dff",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"pcBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"PP-BDGT\", pm.environment.get(\"fromFund1Id\"), pm.environment.get(\"pcFiscalYearId\"))));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "297d3f9b-f07f-4877-a664-57ac20e133cf",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let record = {};",
															"",
															"pm.test(\"Budget is created\", function () {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"});",
															"",
															"pm.test(\"Budget content is valid\", function() {",
															"    utils.validateBudget(record);",
															"    pm.environment.set(\"allocBudget1Id\", record.id); ",
															"    pm.expect(record.name).to.eql(\"PP-BDGT\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcBudgetContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create budget 2",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "6043f1ff-12a6-4f9f-a286-cd6d3b3cb938",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"pcBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"PP-BDGT2\", pm.environment.get(\"fromFund2Id\"), pm.environment.get(\"pcFiscalYearId\"))));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "342c303e-d1bc-4646-8f79-52a19f255767",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let record = {};",
															"",
															"pm.test(\"Budget is created\", function () {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"});",
															"",
															"pm.test(\"Budget content is valid\", function() {",
															"    utils.validateBudget(record);",
															"    pm.environment.set(\"allocBudget2Id\", record.id); ",
															"    pm.expect(record.name).to.eql(\"PP-BDGT2\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcBudgetContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create allocations to Budget 1",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "22c03566-5578-4846-b74a-f280c06d086f",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionMinContent(1000, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFund1Id\"), \"Allocation\")));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "3c3e8b6b-2f72-444b-a1cd-0d3b3cd16c96",
														"exec": [
															"let record = {};",
															"pm.test(\"Trasaction allocation is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"allocTransaction1Id\", pm.response.json().id); ",
															"    record = pm.response.json();",
															"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{allocationContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"allocations"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create allocations to Budget 2",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "03e05e70-97b5-4c42-b896-3573cd416452",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionMinContent(2000, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFund2Id\"), \"Allocation\")));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "589ea75b-5d3e-472b-949e-58e90e422e4c",
														"exec": [
															"let record = {};",
															"pm.test(\"Trasaction allocation is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"allocTransaction2Id\", pm.response.json().id); ",
															"    record = pm.response.json();",
															"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{allocationContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"allocations"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create invoice transaction summary",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "5023043b-cd90-4e84-857a-18cde1bb8241",
														"exec": [
															"pm.test(\"Trasaction allocation is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"invoiceTransactionSummaryId\", pm.response.json().id); ",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "36180f5c-50fd-458d-a0ba-21d693b23e3b",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"id\": \"{{$guid}}\",\n  \"numPendingPayments\": 2,\n  \"numPaymentsCredits\": 2\n}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/invoice-transaction-summaries",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"invoice-transaction-summaries"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create order transaction summaries",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "ef4b6703-d07f-483e-8b0c-c0e73ad07cb5",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "c59416b1-664d-424c-a639-976575ce826d",
														"exec": [
															"pm.test(\"Order transaction summary is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"ordersTransactionSummaryId\", pm.response.json().id); ",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"id\": \"{{$guid}}\",\r\n  \"numTransactions\": 1\r\n}\r\n"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/order-transaction-summaries",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"order-transaction-summaries"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create encumbrance",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "4f32ecaf-ee5a-4cc1-b758-035dd372305e",
														"exec": [
															"let record = {};",
															"pm.test(\"Trasaction encumbrance is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"    pm.environment.set(\"encumbranceId\", record.id);",
															"    pm.expect(record.transactionType).to.eql(\"Encumbrance\");",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "7579aec7-f7c8-47cf-b0b4-bb3c54f16b86",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"var uuid = require(\"uuid\");",
															"",
															"",
															"let encumbranceMinContent = utils.buildEncumbranceMinContent();",
															"let transactionEncumbrance = utils.buildTransactionMinContent(125, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFund1Id\"), \"Encumbrance\");",
															"encumbranceMinContent.initialAmountEncumbered = 125;",
															"encumbranceMinContent.sourcePurchaseOrderId = pm.environment.get(\"ordersTransactionSummaryId\");",
															"transactionEncumbrance.encumbrance = encumbranceMinContent;",
															"transactionEncumbrance.fromFundId = pm.environment.get(\"fromFund1Id\");",
															"pm.environment.set(\"encumbranceContent\", JSON.stringify(transactionEncumbrance));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{encumbranceContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/encumbrances",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"encumbrances"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "4a6e65a6-72dc-446a-ab69-c38562feb295",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "9cdf1225-9b12-4874-87b9-d2ee038162fb",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Test API",
									"item": [
										{
											"name": "Get ledger record with summary before",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "226bba43-e3c7-4040-8399-7935c7dde217",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Ledger is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    let ledger = pm.response.json();",
															"",
															"    pm.expect(ledger.available).to.equal(3000 - 125);",
															"    pm.expect(ledger.unavailable).to.equal(125);",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "d36f8aa1-a5a4-46ba-b60f-f5c706875db6",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{pcLedgerId}}?fiscalYear={{pcFiscalYearId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"ledgers",
														"{{pcLedgerId}}"
													],
													"query": [
														{
															"key": "fiscalYear",
															"value": "{{pcFiscalYearId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get budget record before 1",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "b680a7cd-1c01-4a04-81ef-fcdcfddb1472",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Budget is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    utils.validateBudget(pm.response.json());",
															"    pm.expect(pm.response.json().allocated).to.eql(1000.0);",
															"    pm.expect(pm.response.json().available).to.eql(875.0);",
															"     pm.expect(pm.response.json().unavailable).to.eql(125.0);",
															"    pm.expect(pm.response.json().awaitingPayment).to.eql(0.0);",
															"    // 100 = 0.0 - 100(pending payment)",
															"    pm.expect(pm.response.json().encumbered).to.eql(125.0);",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "7791478f-d42d-4ac5-80af-ef3bc43e8b67",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudget1Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets",
														"{{allocBudget1Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get budget record before 2",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "a75b1428-de1d-49bf-91db-3a12e9aa8ed4",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Budget is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    utils.validateBudget(pm.response.json());",
															"    pm.expect(pm.response.json().allocated).to.eql(2000.0);",
															"    pm.expect(pm.response.json().available).to.eql(2000.0);",
															"    pm.expect(pm.response.json().unavailable).to.eql(0.0);",
															"    pm.expect(pm.response.json().awaitingPayment).to.eql(0.0);",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "ffc20c96-2c79-4a5e-b2f8-ae265816b90c",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudget2Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets",
														"{{allocBudget2Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create positive pending payments, encumbrance linked, encumbrance is going to be released",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "2e7829d5-3941-4792-8511-2c2c55fec5b5",
														"exec": [
															"let record = {};",
															"pm.test(\"Trasaction payment is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"pendingPaymentTransaction1Id\", pm.response.json().id); ",
															"    record = pm.response.json();",
															"    pm.expect(record.transactionType).to.eql(\"Pending payment\");",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "9d586665-a3c4-4e3d-8745-a504d1b40e90",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let pendingPayment = utils.buildPaymentTransactionMinContent(100.0, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFund1Id\"), \"Pending payment\");",
															"pendingPayment.awaitingPayment = {};",
															"pendingPayment.awaitingPayment.encumbranceId = pm.environment.get(\"encumbranceId\");",
															"pendingPayment.awaitingPayment.releaseEncumbrance = true;",
															"pendingPayment.sourceInvoiceId = pm.environment.get(\"invoiceTransactionSummaryId\");",
															"pm.environment.set(\"pendingPaymentContent\", JSON.stringify(pendingPayment));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken-testAdmin}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pendingPaymentContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"transactions"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create negative pending payments, encumbrance not linked",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "9fe86918-0fff-4fbc-8dad-398e555d8658",
														"exec": [
															"let record = {};",
															"pm.test(\"Trasaction payment is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"pendingPaymentTransaction2Id\", pm.response.json().id); ",
															"    record = pm.response.json();",
															"    pm.expect(record.transactionType).to.eql(\"Pending payment\");",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "c8c3c515-a73b-48ca-ad3b-e0346484614d",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let pendingPayment = utils.buildPaymentTransactionMinContent(-50.0, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFund2Id\"), \"Pending payment\");",
															"pendingPayment.sourceInvoiceId = pm.environment.get(\"invoiceTransactionSummaryId\");",
															"pendingPayment.amount=-50;",
															"pm.environment.set(\"pendingPaymentContent\", JSON.stringify(pendingPayment));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken-testAdmin}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pendingPaymentContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"transactions"
													]
												}
											},
											"response": []
										},
										{
											"name": "Check encumbrance is updated",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "2063004b-b2b6-45c8-bfda-64f192499569",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Verify transaction released\", function() {",
															"    pm.response.to.be.ok;",
															"    let encumbrance = pm.response.json();",
															"    pm.expect(encumbrance.amount).to.eql(0);",
															"    pm.expect(encumbrance.encumbrance.status).to.eql(\"Released\");",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "5b7675a0-c1ab-4ad0-bced-b476cdcbaf7e",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{encumbranceId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"transactions",
														"{{encumbranceId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get budget 1 record after pending payments",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "3191cf92-ced5-4649-9bf7-a60edf43f60f",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Budget is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    utils.validateBudget(pm.response.json());",
															"    pm.expect(pm.response.json().awaitingPayment).to.eql(100.0);",
															"    // 100 = 0.0 - 100(pending payment)",
															"    pm.expect(pm.response.json().encumbered).to.eql(0.0);",
															"    pm.expect(pm.response.json().available).to.eql(900.0);",
															"    pm.expect(pm.response.json().unavailable).to.eql(100.0);",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "1adc68d8-89d8-4cb2-8e24-a28a269c68d8",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudget1Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets",
														"{{allocBudget1Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get budget 2 record after pending payments",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "bcd74846-e962-4bf3-8acd-03532a98faae",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Budget is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    utils.validateBudget(pm.response.json());",
															"    pm.expect(pm.response.json().awaitingPayment).to.eql(-50.0);",
															"    pm.expect(pm.response.json().encumbered).to.eql(0.0);",
															"    pm.expect(pm.response.json().available).to.eql(2050.0);",
															"    pm.expect(pm.response.json().unavailable).to.eql(0.0);",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "8a036c0d-5bf7-4b67-80da-2408072e9898",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudget2Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets",
														"{{allocBudget2Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get ledger record with summary after",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "309ba52a-d3d8-489f-92fb-beae2a40b5c1",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Ledger is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    let ledger = pm.response.json();",
															"",
															"    pm.expect(ledger.available).to.equal(3000 - 100 + 50);",
															"    pm.expect(ledger.unavailable).to.equal(100);",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "85462799-3471-4a2b-8522-83185ee7b241",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{pcLedgerId}}?fiscalYear={{pcFiscalYearId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"ledgers",
														"{{pcLedgerId}}"
													],
													"query": [
														{
															"key": "fiscalYear",
															"value": "{{pcFiscalYearId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Check tinvoice transaction summary is processed",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "a36d6fa8-148d-44a8-93c3-43c384956647",
														"exec": [
															"pm.test(\"Transaction sumary is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    pm.expect(pm.response.json().numPendingPayments).to.eql(-2);",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "a82eb82d-c6d6-44f3-84ef-b1a87e507d2f",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken-testAdmin}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/invoice-transaction-summaries/{{invoiceTransactionSummaryId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"invoice-transaction-summaries",
														"{{invoiceTransactionSummaryId}}"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Clean-up",
									"item": [
										{
											"name": "Delete order transaction summaries",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "bbd7a40d-98b2-404b-b849-53c967f98c2e",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "818b82ee-37b7-4ae1-8b42-b8461d4115a2",
														"exec": [
															"pm.test(\"Order transaction summary is deleted\", () => {",
															"    pm.response.to.have.status(204);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken-testAdmin}}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/order-transaction-summaries/{{ordersTransactionSummaryId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"order-transaction-summaries",
														"{{ordersTransactionSummaryId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete invoice transaction summary",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "02fcabf9-391d-4da0-80e2-38006a429795",
														"exec": [
															"pm.test(\"Trasaction allocation is deleted\", () => {",
															"    pm.response.to.have.status(204);",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "a4b9d61a-7a8d-4390-bf77-54e2b3409884",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken-testAdmin}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/invoice-transaction-summaries/{{invoiceTransactionSummaryId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"invoice-transaction-summaries",
														"{{invoiceTransactionSummaryId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete allocation transaction 1",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "9f7b3a0e-c285-4769-af2d-633f8a6f5c76",
														"exec": [
															"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "29d5ebef-28bd-4602-90f3-cd42c9739098",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{allocTransaction1Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"transactions",
														"{{allocTransaction1Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete allocation transaction 2",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0bdeb7e4-fe03-4150-8c5a-6b8edb3289ab",
														"exec": [
															"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "0c650681-2aa9-4c58-96fd-9bb11cc1d15f",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{allocTransaction2Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"transactions",
														"{{allocTransaction2Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete pending payment 1",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "cf3df552-e58f-4942-a981-e58e130c15cc",
														"exec": [
															"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "e837884b-2252-4463-ac08-9fd683458f0c",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{pendingPaymentTransaction1Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"transactions",
														"{{pendingPaymentTransaction1Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete pending payment 2",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "8b383261-003b-49f6-bf27-f9e45d5215be",
														"exec": [
															"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "5e958262-6c17-4f33-91f6-597614f05582",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{pendingPaymentTransaction2Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"transactions",
														"{{pendingPaymentTransaction2Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete encumbrance transaction",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "772fe5f3-6355-41a3-80d7-5c2f06a82c8d",
														"exec": [
															"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "b62514b2-99a8-44f4-b5fe-e0839c65a11b",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{encumbranceId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance-storage",
														"transactions",
														"{{encumbranceId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete budget record",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "d05c633f-78e2-47bc-aa2c-7949f842cadb",
														"exec": [
															"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "5ea9140d-77c8-4c0c-9ba8-b8555ac6a523",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudget1Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets",
														"{{allocBudget1Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete budget 2 record",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "6de6c453-5c83-4f98-a3dc-1f711c569a7b",
														"exec": [
															"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "06cb08cf-a4ea-459d-8866-9c56b7e75986",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudget2Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets",
														"{{allocBudget2Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete fund record",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "2e727d1d-40fd-4fab-85bf-629a58c51113",
														"exec": [
															"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "e0f66e4a-8522-4c16-9e8b-f1d50e07ac7c",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fromFund1Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"funds",
														"{{fromFund1Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete fund 2 record",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e113f20d-c282-412b-ad57-5da89f08f6f8",
														"exec": [
															"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "da049e18-7c24-484d-93ff-42de1532a5c6",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fromFund2Id}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"funds",
														"{{fromFund2Id}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete Ledger",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "b3d2b09b-424a-4cea-a247-07db627e5dee",
														"exec": [
															"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "22338e7f-3654-412f-8f56-00f98bd0e8ff",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{pcLedgerId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"ledgers",
														"{{pcLedgerId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete fiscal year",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "7f244fff-5a51-4779-be5c-92a1712f4566",
														"exec": [
															"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "ccafeb89-d953-4662-9e92-f7b4bbecdfa4",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{pcFiscalYearId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"fiscal-years",
														"{{pcFiscalYearId}}"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Transfers",
							"item": [
								{
									"name": "Create fiscal year  - required for budgets",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "b90a7158-26c0-4875-8926-ffeabe727499",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"transFyContent\", JSON.stringify(utils.buildFiscalYearMinContent(\"TRANSFY2019\")));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "3b9946a2-da49-44a6-9a24-5b2af56481ec",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transFiscalYearId\", pm.response.json().id);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transFyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ledger - required for funds",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "cc095269-6b12-44a4-9773-dd64b6861895",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transLedgerId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "8cafa967-0580-4f15-bf33-cb97a17c7205",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let ledger = utils.buildLedgerMinContent(\"TRANS-LDGR\", \"Test transaction ledger\");",
													"ledger.fiscalYearOneId = pm.environment.get(\"transFiscalYearId\");",
													"pm.variables.set(\"transLedgerContent\", JSON.stringify(ledger));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transLedgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create from fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2695e14c-3464-4d44-8431-64b07e580686",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function () {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"fromFundId\", record.fund.id);",
													"    pm.expect(record.fund.code).to.eql(\"FROM-FND\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d5865e11-ba4d-4278-82bb-ba6f106ecb6a",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"transFundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"FROM-FND\", pm.environment.get(\"transLedgerId\")))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transFundContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create to fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "194ab35f-78fb-4793-8b4a-c88e73531aa8",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function () {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"toFundId\", record.fund.id);",
													"    pm.expect(record.fund.code).to.eql(\"TO-FND\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "64461950-cbe9-4000-943e-5f6ab932ca04",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"transFundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"TO-FND\", pm.environment.get(\"transLedgerId\")))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transFundContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create from budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "55ba644f-c9c8-446a-818f-f22c4a672adf",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function () {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"fromBudgetId\", record.id);",
													"    pm.expect(record.name).to.eql(\"FROM-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "bb06adeb-f341-4b2f-8516-63803555b3fa",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"transBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"FROM-BDGT\", pm.environment.get(\"fromFundId\"), pm.environment.get(\"transFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create to budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e8bc400c-98b2-44da-8c6a-a9e11c85e4b8",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function () {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"toBudgetId\", record.id);",
													"    pm.expect(record.name).to.eql(\"TO-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "20d35ad5-bc73-4618-82b4-2354089154fd",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"transBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"TO-BDGT\", pm.environment.get(\"toFundId\"), pm.environment.get(\"transFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get fiscal year by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9ec94e1a-a2f7-457d-9810-cea1f8bf2ff7",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Fiscal year is retrieved\", function() {",
													"    pm.response.to.be.ok;",
													"    utils.validateFiscalYear(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "e439eda9-d054-43fe-b3f4-89ea0fceb869",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{transFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{transFiscalYearId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d1a19564-7bc4-4abe-844f-41477aabd910",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Fund is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateCompositeFund(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6cb7ddb9-8be5-436d-9aa0-d3307ff7c2ca",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{toFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get from budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "47b3f851-e0ba-4ecd-847d-889097790e91",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Budget is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateBudget(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3979cb07-9840-4ad3-8b7e-a48878778c31",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{fromBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{fromBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get to budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "82c56fd3-e6d5-43f1-b096-6f5ca8e994e5",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Budget is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateBudget(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "35566df4-52a7-45f0-9576-fed924c5f4d7",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{toBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{toBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create transfers",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8a3527cc-67e6-4617-9231-4bd90a851c24",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction transfer is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transferId\", pm.response.json().id); ",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Transfer\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "dab44060-8d10-4aeb-b22e-f1606c3914d2",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"transferContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"transFiscalYearId\"), pm.environment.get(\"fromFundId\"), pm.environment.get(\"toFundId\"), \"Transfer\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get ledger record with summary",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ad138e58-05dc-4492-ac58-8f4ebd2d1664",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Ledger is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    let ledger = pm.response.json();",
													"    utils.validateLedger(ledger);",
													"    let allocation = JSON.parse(pm.environment.get(\"transferContent\"));",
													"    pm.expect(ledger.available).to.equal(0);",
													"    pm.environment.unset(\"transferContent\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a728e3e4-19bf-432a-b3f8-3fc4a5551fb8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{transLedgerId}}?fiscalYear={{transFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{transLedgerId}}"
											],
											"query": [
												{
													"key": "fiscalYear",
													"value": "{{transFiscalYearId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get transaction by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "54f6fb9b-ed70-4bc2-b227-f40b514c8c5f",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Transaction transfer is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateTransaction(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d714aad6-17fc-4912-89c3-87d90d8f55ed",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{transferId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions",
												"{{transferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get transaction records by query - 1 record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e9368d4e-2eef-4c5e-a8b3-419937cf2ab2",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"One transaction record is found\", function () {",
													"    pm.response.to.be.ok;",
													"    let records = pm.response.json();",
													"    pm.expect(records.transactions).to.have.lengthOf(1);",
													"    utils.validateTransaction(records.transactions[0]);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "e1f8892b-8261-49a6-b7f0-da7f2248588f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions?query=id=={{transferId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions"
											],
											"query": [
												{
													"key": "query",
													"value": "id=={{transferId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4614f8fd-f3d0-40b4-a038-554411f86f81",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "79edaa6a-6d0d-42d9-8e14-cf140ccc98cd",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transferId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete from budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "be6e5604-0098-4456-ab2c-0bd6eb10800e",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "77fc35fb-9b66-4fe2-afe6-f77f62f8dab1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{fromBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{fromBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete to budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "595efa23-91b6-4d3a-bc66-216fcd7908a9",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "f7a4fe72-9497-45f9-8af7-706edf0c70bb",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{toBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{toBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete from fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "05bd2cfd-d519-4e91-97cb-3cda0cfab456",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "779f8b07-92da-423c-ac74-1586d6aec4e8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fromFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{fromFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete to fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d7dd576b-c4af-4bc6-b084-5852ef9f6397",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "20cdea65-5706-48d6-8c76-f30d4a0f1cf6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{toFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Ledger",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f8c19210-eaaf-4a7b-8b50-a95f9987dde0",
												"exec": [
													"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3c1ca32e-02ef-49a5-9495-113c4bf1bdf2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{ledgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{transLedgerId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{transLedgerId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b61fcc55-d0a6-4873-844b-9143984bb367",
												"exec": [
													"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9aecd9b9-fd02-4a90-8d2b-4782eabc09d3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{transFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{transFiscalYearId}}"
											]
										}
									},
									"response": []
								}
							],
							"description": "Create Transaction allocations",
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Payments Credits",
							"item": [
								{
									"name": "Prepare data for Payments and Credits",
									"item": [
										{
											"name": "Create fiscal year  - required for budgets",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "042b9785-b781-4f6b-ab39-b88cdea811f0",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"pcFyContent\", JSON.stringify(utils.buildFiscalYearMinContent(\"PCFY2020\")));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "e0c77dba-e069-4ef0-94ed-2a7bd6001996",
														"exec": [
															"pm.test(\"Fisscal Year is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"pcFiscalYearId\", pm.response.json().id);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcFyContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"fiscal-years"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create ledger - required for funds",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "c9c8825c-6eba-4481-bef1-56a7c6cc9636",
														"exec": [
															"pm.test(\"Ledger is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"pcLedgerId\", pm.response.json().id); ",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "514ec0ca-08b0-4e34-ba34-7d5c9c8f6df9",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let ledger = utils.buildLedgerMinContent(\"PC-LDGR\", \"Test transaction ledger\");",
															"ledger.fiscalYearOneId = pm.environment.get(\"pcFiscalYearId\");",
															"pm.environment.set(\"pcLedgerContent\", JSON.stringify(ledger));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcLedgerContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"ledgers"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create fund - required for transactions",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "985ce0c7-d7f7-4948-abe0-f409e80ee187",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let record = {};",
															"",
															"pm.test(\"Fund is created\", function () {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"});",
															"",
															"pm.test(\"Fund content is valid\", function() {",
															"    utils.validateCompositeFund(record);",
															"    pm.environment.set(\"fromFundId\", record.fund.id); ",
															"    pm.expect(record.fund.code).to.eql(\"PC-FND\");",
															"});",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "ac92dd59-6398-48a2-b47f-f175b2b25cf0",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"pcFundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"PC-FND\", pm.environment.get(\"pcLedgerId\")))));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcFundContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"funds"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create budget first",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "c1210a91-fbc7-43b7-ab38-f8a9e900e9af",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.variables.set(\"pcBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"PC-BDGT\", pm.environment.get(\"fromFundId\"), pm.environment.get(\"pcFiscalYearId\"))));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "6e09b141-fd1d-43d9-98de-aac67f7f5869",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"let record = {};",
															"",
															"pm.test(\"Budget is created\", function () {",
															"    pm.response.to.have.status(201);",
															"    record = pm.response.json();",
															"});",
															"",
															"pm.test(\"Budget content is valid\", function() {",
															"    utils.validateBudget(record);",
															"    pm.environment.set(\"allocBudgetId\", record.id); ",
															"    pm.expect(record.name).to.eql(\"PC-BDGT\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{pcBudgetContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create allocations to Budget",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "439d77da-fa1e-478c-95de-cf656028ca17",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionMinContent(1000, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFundId\"), \"Allocation\")));"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "e9f990d2-d74c-4c78-b1d6-e40c2b6de199",
														"exec": [
															"let record = {};",
															"pm.test(\"Trasaction allocation is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"allocTransactionId\", pm.response.json().id); ",
															"    record = pm.response.json();",
															"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{allocationContent}}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"allocations"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get budget record before",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "10580afa-7c80-4fe9-beb3-80bab5c224a8",
														"exec": [
															"let utils = eval(globals.loadUtils);",
															"",
															"pm.test(\"Budget is retrieved\", function () {",
															"    pm.response.to.be.ok;",
															"    utils.validateBudget(pm.response.json());",
															"    pm.expect(pm.response.json().allocated).to.eql(1000.0);",
															"    pm.expect(pm.response.json().available).to.eql(1000.0);",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "1ebd90e7-94b7-48cd-990e-2e7ca4d9842e",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"budgets",
														"{{allocBudgetId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create invoice transaction summary",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "19f427af-33c6-4056-94f9-cbbef10c377e",
														"exec": [
															"pm.test(\"Trasaction allocation is created\", () => {",
															"    pm.response.to.have.status(201);",
															"    pm.environment.set(\"invoiceTransactionSummaryId\", pm.response.json().id); ",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "33c7a526-8e72-4934-b364-7ea1e4d1b5b8",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-okapi-token",
														"value": "{{xokapitoken}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"id\": \"{{$guid}}\",\n  \"numPendingPayments\": 1,\n  \"numPaymentsCredits\": 1\n}"
												},
												"url": {
													"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/invoice-transaction-summaries",
													"protocol": "{{protocol}}",
													"host": [
														"{{url}}"
													],
													"port": "{{okapiport}}",
													"path": [
														"finance",
														"invoice-transaction-summaries"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Create pending payments for payment",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2652cc4e-dcf9-4bd1-9392-b1343577d214",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction payment is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"pendingPaymentTransaction1Id\", pm.response.json().id); ",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Pending payment\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ed37c617-89a3-4076-b3d5-66283400adda",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.environment.set(\"pendingPaymentContent\", JSON.stringify(utils.buildPaymentTransactionMinContent(100.0, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFundId\"), \"Pending payment\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken-testAdmin}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{pendingPaymentContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create payments",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e47efa8d-c8cb-4a80-8044-49e6625293e9",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction payment is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"paymentTransactionId\", pm.response.json().id); ",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Payment\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c382c013-1a4e-4d1a-b3ef-c6791b8498b6",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.environment.set(\"paymentContent\", JSON.stringify(utils.buildPaymentTransactionMinContent(100.0, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFundId\"), \"Payment\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{paymentContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/payments",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"payments"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create invoice transaction summary",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "da2fac7e-6073-4bef-be1d-87b6ae652d92",
												"exec": [
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"invoiceTransactionSummaryId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "abc53ff0-fa7e-4301-8c0c-6791f6b6237d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"id\": \"{{$guid}}\",\n  \"numPendingPayments\": 1,\n  \"numPaymentsCredits\": 1\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/invoice-transaction-summaries",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"invoice-transaction-summaries"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create pending payments for credit",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "65e45c1b-08be-4749-93d6-4a702eb34b39",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction payment is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"pendingPaymentTransaction2Id\", pm.response.json().id); ",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Pending payment\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "099b58d3-d324-40ec-9c72-6cf17991ba39",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.environment.set(\"pendingPaymentContent\", JSON.stringify(utils.buildPaymentTransactionMinContent(-20.0, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFundId\"), \"Pending payment\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken-testAdmin}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{pendingPaymentContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create credits",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c08d4216-e4fb-439e-8918-095396edfbfb",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction credits is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"creditTransactionId\", pm.response.json().id); ",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Credit\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "edc25d0e-43a5-4b3d-95a7-aaf8aa851dc1",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.environment.set(\"creditContent\", JSON.stringify(utils.buildCreditTransactionMinContent(20.0, pm.environment.get(\"pcFiscalYearId\"), pm.environment.get(\"fromFundId\"), \"Credit\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{creditContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/credits",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"credits"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get budget record after payments and credits",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fdce94e3-155d-4553-8fa2-47bd11c57603",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Budget is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateBudget(pm.response.json());",
													"    // 0.0 = 80 - 100(payment) + 20(credit)",
													"    pm.expect(pm.response.json().awaitingPayment).to.eql(0.0);",
													"    // 80.0 = 0 + 100(payment) - 20(credit)",
													"    pm.expect(pm.response.json().expenditures).to.eql(80.0);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6a48a3e2-4b82-4085-a85a-c909076a5179",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{allocBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get and verify payment transaction by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "64fc4f45-97ab-4651-bd6c-5ec56f73c7b1",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Transaction payment is retrieved and validated\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateTransaction(pm.response.json());",
													"    pm.expect(pm.response.json().amount).to.eql(100.0);",
													"    pm.expect(pm.response.json().transactionType).to.eql(\"Payment\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "dafc2e0c-ebf7-429e-9a71-e492c16e6f4d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{paymentTransactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions",
												"{{paymentTransactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get and verify credit transaction by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "cebdff2c-0d2d-43e8-8fa5-6ccd5e776bb8",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Transaction credit is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateTransaction(pm.response.json());",
													"    pm.expect(pm.response.json().amount).to.eql(20.0);",
													"    pm.expect(pm.response.json().transactionType).to.eql(\"Credit\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3d11bfcc-fc7a-4ab4-8c5b-91c50a298fda",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{creditTransactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions",
												"{{creditTransactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check pending payment 1 deleted",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "25fd3b06-ad24-4035-a22e-0502ec1f09d5",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(404));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "bf7ce837-e733-4281-ba0f-948df9814fbd",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{pendingPaymentTransaction1Id}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions",
												"{{pendingPaymentTransaction1Id}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check pending payment 1 deleted Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "63adffc0-fd71-4b19-86e1-1fc00a95937e",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(404));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5257ba8e-e31c-484d-9acb-66c15eec4929",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{pendingPaymentTransaction2Id}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions",
												"{{pendingPaymentTransaction2Id}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete allocation transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fb64f09e-ffb5-4db1-8831-d3a6d17c4d47",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5948d1a6-04d8-4a58-854b-18728decd0d4",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{allocTransactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{allocTransactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete payment transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "53f29e70-51eb-46e0-be3a-cdd078a70a5a",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5636f9ae-7d88-4119-8cad-6bbac402edf0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{paymentTransactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{paymentTransactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete credit transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "215650aa-d40e-4f66-8fa8-1edd71f03eab",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c245a061-acd1-4ddd-ab8e-22ca7c5c58ce",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{creditTransactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{creditTransactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e8a3e0d6-a348-4a03-9035-8eff0cc9afa6",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9efe417b-fba3-45a0-bdf8-824e6c346b72",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{allocBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3367e660-e77f-456b-ab5b-c2bb860fe8fa",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9f44c7ff-c030-46aa-81e3-939352f96f24",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fromFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{fromFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Ledger",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b679fb64-ff7c-4972-a659-eb57e2fe8509",
												"exec": [
													"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5ef5b67d-e013-4401-ac07-102833e89844",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{pcLedgerId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{pcLedgerId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "411622a2-c583-4edc-ba02-6bd2c06bd68b",
												"exec": [
													"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3613f64e-0dde-4a55-9cd9-a46ca4a8ee52",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{pcFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{pcFiscalYearId}}"
											]
										}
									},
									"response": []
								}
							],
							"description": "Create Transaction allocations",
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Current fiscal year",
					"item": [
						{
							"name": "Create current fiscal year for ledger",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a815f4b3-f1cb-46ee-994c-f5be1efe81ec",
										"exec": [
											"pm.test(\"Current fiscal year is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"currentFiscalYearId\", pm.response.json().id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "4093c7d2-65fe-461f-8e2b-1754e4003bb5",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"const moment = require('moment');",
											"",
											"let currentFiscalYear = utils.buildFiscalYearMinContent();",
											"var start = moment().startOf('year');",
											"var end = moment().endOf('year');",
											"",
											"currentFiscalYear.periodStart = start.format('YYYY-MM-DD');",
											"currentFiscalYear.periodEnd = end.format('YYYY-MM-DD');",
											"",
											"currentFiscalYear.name = \"CurrentFY\";",
											"currentFiscalYear.code = \"CF1111\";",
											"currentFiscalYear.series = \"CFYSERIES\";",
											"",
											"pm.variables.set(\"fyContent\", JSON.stringify(currentFiscalYear));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fyContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fiscal-years"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create next fiscal year for ledger",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4c0ba5f5-317c-497d-b3c6-d44179be13c9",
										"exec": [
											"pm.test(\"Next fiscal year is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"nextFiscalYearId\", pm.response.json().id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5a9083f2-0acc-4ca3-8ef0-932a869e6d53",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"const moment = require('moment');",
											"",
											"let nextFiscalYear = utils.buildFiscalYearMinContent();",
											"var start = moment().startOf('year').add(1, 'year');",
											"var end = moment().endOf('year').add(1, 'year');",
											"",
											"nextFiscalYear.periodStart = start.format('YYYY-MM-DD');",
											"nextFiscalYear.periodEnd = end.format('YYYY-MM-DD');",
											"",
											"nextFiscalYear.name = \"NextFY\";",
											"nextFiscalYear.code = \"CF2222\";",
											"nextFiscalYear.series = \"CFYSERIES\";",
											"",
											"pm.variables.set(\"fyContent\", JSON.stringify(nextFiscalYear));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fyContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fiscal-years"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create ledger with next fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e2241ab7-a4c4-47bf-bc2c-e545d18b7fe5",
										"exec": [
											"pm.test(\"Ledger is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"ledgerForCurrentFiscalYearId\", pm.response.json().id); ",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8f2b7af5-75d7-4c4a-a3d0-49da78beb199",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let ledger = utils.buildLedgerMinContent(\"n-lgr\", \"Next FY ledger\");",
											"ledger.fiscalYearOneId = pm.environment.get(\"nextFiscalYearId\");",
											"pm.variables.set(\"ledgerContent\", JSON.stringify(ledger));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{ledgerContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get current fiscal year by ledger id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "792c6828-5871-4ab9-bc89-b5eff3058e29",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Current fiscal year is retrieved\", function() {",
											"    pm.response.to.be.ok;",
											"    let ledger = pm.response.json();",
											"    pm.expect(ledger.id).to.equal(pm.environment.get(\"currentFiscalYearId\"));",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0907c14b-7d54-4ac1-afe8-13714ea53ae9",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{ledgerForCurrentFiscalYearId}}/current-fiscal-year",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers",
										"{{ledgerForCurrentFiscalYearId}}",
										"current-fiscal-year"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Group FiscalYear Summary",
					"item": [
						{
							"name": "Prepare data for testing",
							"item": [
								{
									"name": "Create group fund fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f55c2fa1-63df-4dd0-9307-7b6e51c80fcc",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Group fund fiscal year is created\", function () {",
													"    pm.response.to.have.status(201);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ebc70392-bcc3-46b2-b7b7-fe7a804ec01f",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"groupFundFiscalYearContent\", ",
													"JSON.stringify(utils.buildGroupFundFiscalYearMinContent(pm.environment.get(\"groupId\"), pm.environment.get(\"fundId\"), pm.environment.get(\"fiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{groupFundFiscalYearContent}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"group-fund-fiscal-years"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Get group fiscal year summary",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ecb8996e-a9e7-4968-beda-bd5ec9495892",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Group fiscal year summary is retrieved\", function() {",
											"    pm.response.to.be.ok;",
											"    let summaries = pm.response.json().groupFiscalYearSummaries;",
											"    pm.expect(summaries.length).to.equal(1);",
											"    utils.validateGroupFiscalYearSummaries(summaries[0]);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "703ef3bb-da00-4316-a8ec-5cfe04f7bea5",
										"exec": [
											"// let utils = eval(globals.loadUtils);",
											"",
											"// let fiscalYear = utils.buildFiscalYearMinContent(\"DD1259\");",
											"// let group = utils.buildGroupMinContent();",
											"",
											"// // Create fiscal year",
											"// pm.test(\"Fiscal year is created\", function() {",
											"//     utils.sendPostRequest('/finance/fiscal-years', fiscalYear, (err, res) => {",
											"//         pm.expect(res).to.have.status(201);",
											"//         pm.variables.set(\"fiscalYearId\", res.json().id);",
											"//             // Create group",
											"//             pm.test(\"Group is created\", function() {",
											"//                 utils.sendPostRequest('/finance/groups', group, (err, res) => {",
											"//                 pm.expect(res).to.have.status(201);",
											"//                 pm.variables.set(\"groupId\", res.json().id);",
											"//                 pm.variables.set(\"fiscalYearId\", res.json().id);",
											"//                 // Create fund",
											"//                 pm.test(\"Fund is created\", function() {",
											"//                     utils.sendPostRequest('/finance/funds', group, (err, res) => {",
											"//                     pm.expect(res).to.have.status(201);",
											"//                     pm.variables.set(\"fundIdId\", res.json().id);",
											"//                     });",
											"//                 });",
											"//             });",
											"//         });",
											"//     });",
											"// });",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fiscal-year-summaries?query=groupFundFY.groupId={{groupId}} or groupId={{groupId}} and fiscalYearId=={{fiscalYearId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fiscal-year-summaries"
									],
									"query": [
										{
											"key": "query",
											"value": "groupFundFY.groupId={{groupId}} or groupId={{groupId}} and fiscalYearId=={{fiscalYearId}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Exchange rate",
					"item": [
						{
							"name": "Get exchange rate",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e4eef9c7-4b6b-4262-8830-0517cb473941",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Exchange rate is retrieved\", function () {",
											"    pm.response.to.be.ok;",
											"    utils.validateExchangeRate(pm.response.json());",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "727aa0a7-a1b5-4504-b250-8eab05fb48e9",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/exchange-rate?from=USD&to=EUR",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"exchange-rate"
									],
									"query": [
										{
											"key": "from",
											"value": "USD"
										},
										{
											"key": "to",
											"value": "EUR"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get exchange rate for same currencies",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "961b25ba-42fe-467a-aaad-15f7553c071d",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Exchange rate for equal currencies is 1.0\", function () {",
											"    pm.response.to.be.ok;",
											"    let exchangeRate = pm.response.json();",
											"    pm.expect(exchangeRate.exchangeRate).to.eql(1.0);",
											"    utils.validateExchangeRate(pm.response.json());",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "769413d7-133d-4795-8b85-3781b6cdf39e",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/exchange-rate?from=USD&to=USD",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"exchange-rate"
									],
									"query": [
										{
											"key": "from",
											"value": "USD"
										},
										{
											"key": "to",
											"value": "USD"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "36251885-7008-40d7-988c-06d8b6ac382e",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "b498df56-83d4-4df1-8fdd-b8aa7dd25426",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Negative Tests",
			"item": [
				{
					"name": "Ledgers",
					"item": [
						{
							"name": "Get ledger by id, with summary ledgerFY not exist",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f34777b7-13b8-4589-9a2d-26e103a44057",
										"exec": [
											"pm.test(\"Fund cannot be found\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].code).to.equal(\"ledgerFYNotFound\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "af810218-a22b-47d9-8c18-ea941e0ce048",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{ledgerId}}?fiscalYear={{fyForDeleteId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers",
										"{{ledgerId}}"
									],
									"query": [
										{
											"key": "fiscalYear",
											"value": "{{fyForDeleteId}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Fund types",
					"item": [
						{
							"name": "Create first type for negative tests",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e32a0460-f545-4b6a-a622-75dc36965eef",
										"exec": [
											"pm.test(\"Fund type is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"fundTypeId\", pm.response.json().id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "34d84e08-3947-4b77-aad4-426f50241546",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\": \"Negative\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create second type for negative tests",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0c95d0f3-e4f0-4cca-8541-3cb07456eb90",
										"exec": [
											"pm.test(\"Fund type is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"fundTypeId2\", pm.response.json().id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c03764ec-d82e-4d5d-a36d-a4b1ed79160e",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\": \"Negative2\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create type without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "68670357-f7bf-4936-82cb-cc1730b8a772",
										"exec": [
											"pm.test(\"Fund type is not created\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters[0].key).to.eql(\"name\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1a0f3c2a-1774-4495-827b-9ee2e5009125",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create type - name already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "24fcf431-e5bd-42ed-8d5a-ad73fe4938fc",
										"exec": [
											"pm.test(\"Fund type is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"value already exists\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "b55373fd-3d01-4604-bb9d-d28028227765",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\": \"Negative\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update type - name already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "01f76e57-30ba-4182-be64-6e04203f4e82",
										"exec": [
											"pm.test(\"Fund type is not updated\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"value already exists\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "fc416ff3-82e4-4993-addc-06e97b5b11fc",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\": \"Negative\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types/{{fundTypeId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types",
										"{{fundTypeId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Search for types by bad query",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7561ce33-d6f6-45b2-9bf4-b61975301320",
										"exec": [
											"pm.test(\"Fund types cannot be found\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"cql\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a87e51ed-2fdc-4f22-b632-f63b26d9286f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types?query=invalid cql",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									],
									"query": [
										{
											"key": "query",
											"value": "invalid cql"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Funds",
					"item": [
						{
							"name": "Create first fund for negative tests",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "58eaafc1-2bb3-4129-8329-2582728486fe",
										"exec": [
											"pm.test(\"Fund is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"fundId\", pm.response.json().fund.id); ",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e4dee690-6a2f-43f3-a832-2a66e27e17c8",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"fundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"TST1\"))));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create second fund for negative tests",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6ad15ef1-a6ab-42c1-8dbe-ae9e7737e041",
										"exec": [
											"pm.test(\"Fund is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    let record = pm.response.json();",
											"    pm.environment.set(\"fundId2\", record.fund.id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "127f2df5-b9e1-4b0a-829a-5efb93d9594a",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"fundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"TST2\"))));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create fund without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "27f24ae3-4a51-4756-b5de-be2f77dc64b3",
										"exec": [
											"pm.test(\"Fund is not created\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "853feafc-c0a0-44ad-8cbe-822d0bc55cbd",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create fund - code already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "941a994d-6b53-4353-bd08-2d7d7a12df98",
										"exec": [
											"pm.test(\"Fund is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"value already exists\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "29bdd09d-4d04-48cc-ade6-4a39d3a75c35",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"fundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"TST1\"))));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create fund - non existent ledger",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "46765ffe-acf3-431c-b514-1c7279446502",
										"exec": [
											"pm.test(\"Fund is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"ledgerid\").and.to.contain(\"because it does not exist in\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "4dbabc5f-d7ec-40bf-a6e6-c2da7af8f9ba",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"var uuid = require('uuid');",
											"",
											"pm.variables.set(\"fundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"TST3\", uuid.v4()))));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create fund - non existent fund type",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0a841d94-96ad-403a-a395-0bb512b01172",
										"exec": [
											"pm.test(\"Fund is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"fundtypeid\").and.to.contain(\"because it does not exist in\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "337599c5-c903-42dd-a3fe-db0637597314",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"var uuid = require('uuid');",
											"",
											"let record = utils.buildCompositeFund(utils.buildFundMinContent(\"TST3\"));",
											"record.fund.fundTypeId = uuid.v4();",
											"pm.variables.set(\"fundContent\", JSON.stringify(record));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update fund - code already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2ccd71d3-e9f8-4d40-960d-fc47bc865b51",
										"exec": [
											"pm.test(\"Fund is not updated\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"value already exists\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1275c1cc-0156-4529-b6dc-c9ae8857f607",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"fundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"TST1\"))));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{fundId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds",
										"{{fundId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Search for funds by bad query",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50c64a20-5ac7-45b1-8ea8-b2d035b49666",
										"exec": [
											"pm.test(\"Fund cannot be found\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"cql\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "2b4ce913-658e-4353-b848-04fd274a8953",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds?query=invalid cql",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									],
									"query": [
										{
											"key": "query",
											"value": "invalid cql"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Groups",
					"item": [
						{
							"name": "Create first group for negative tests",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2853c245-d575-4472-9f02-4359740231bd",
										"exec": [
											"pm.test(\"Group is created\", function() {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"groupId1\", pm.response.json().id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "4d411320-bebb-4f65-9a00-d95677738c52",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"groupContent\", JSON.stringify(utils.buildGroupMinContent(\"TST1\", \"NEGATIVE_TEST1\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create second group for negative tests",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f1daa874-a0fb-4376-971f-151001e01769",
										"exec": [
											"pm.test(\"Group is created\", function() {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"groupId2\", pm.response.json().id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "179c1cd1-75cf-4d37-b58c-5ed15431c00a",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"groupContent\", JSON.stringify(utils.buildGroupMinContent(\"TST2\", \"NEGATIVE_TEST2\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create group without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4b8257b6-d0be-4668-83b4-9c3790ef9555",
										"exec": [
											"pm.test(\"Budget is not created\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(3);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f60f4dfa-0a5c-4a67-a66f-b7ac5c0d5df7",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create group - name already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "974d164f-b47f-4ef9-8a01-55341ae1792e",
										"exec": [
											"pm.test(\"Group is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].code).to.contain(\"uniqueField\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f06327cf-9675-4e09-b1dd-fabb1fdf6a21",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"groupContent\", JSON.stringify(utils.buildGroupMinContent(\"TST3\", \"NEGATIVE_TEST1\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create group - code already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "76699eeb-cf48-4db4-8965-314c603bc059",
										"exec": [
											"pm.test(\"Group is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].code).to.contain(\"uniqueField\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "aae25796-887e-4717-b4d2-8a4249ce2727",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"groupContent\", JSON.stringify(utils.buildGroupMinContent(\"TST1\", \"NEGATIVE_TEST3\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update group - name already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6749241e-6705-47f5-a921-6ce17812b928",
										"exec": [
											"pm.test(\"Group is not updated\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].code).to.contain(\"uniqueField\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "4586a51e-8eda-4e09-b60a-3fa500d8a3c6",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"groupContent\", JSON.stringify(utils.buildGroupMinContent(\"TST3\",  \"NEGATIVE_TEST2\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups/{{groupId1}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups",
										"{{groupId1}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update group - code already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0b52e878-c60a-40b9-a4e9-57cb33f21ef4",
										"exec": [
											"pm.test(\"Group is not updated\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].code).to.contain(\"uniqueField\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "220433ba-deb8-4389-b657-a05022d58b54",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"groupContent\", JSON.stringify(utils.buildGroupMinContent(\"TST2\",  \"NEGATIVE_TEST3\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{groupContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups/{{groupId1}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups",
										"{{groupId1}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Search for groups by bad query",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e383a0b1-2801-4bfc-947b-adecbd6ba573",
										"exec": [
											"pm.test(\"Groups cannot be found\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"cql\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c13f6ae2-aeb1-42ea-8ebd-8de8107c985f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/groups?query=invalid cql",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"groups"
									],
									"query": [
										{
											"key": "query",
											"value": "invalid cql"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Budgets",
					"item": [
						{
							"name": "Budget deletion with existing transaction",
							"item": [
								{
									"name": "Create fiscal year  - required for budgets",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "cf7fa269-a84a-4219-ade6-a5ff2ef41bb7",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocFyContent\", JSON.stringify(utils.buildFiscalYearMinContent(\"ALLOCFY2019\")));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "635c8cfe-c448-406f-a1b9-6a728c571c07",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocFiscalYearId\", pm.response.json().id);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocFyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ledger - required for funds",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f3e2ec95-d17b-48f1-b9bb-32f1cf75c336",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocLedgerId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9e2fddcc-afbf-4be5-9678-5b353c747f77",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let ledger = utils.buildLedgerMinContent(\"ALLOC-LDGR\", \"Test transaction ledger\");",
													"ledger.fiscalYearOneId = pm.environment.get(\"allocFiscalYearId\");",
													"pm.environment.set(\"allocLedgerContent\", JSON.stringify(ledger));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocLedgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d1e57bae-9c3e-417c-9f4c-3879fe77e341",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"toFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"ALLOC-FND\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "54fcb5cc-01d0-4e8a-951a-dc4ab8ca933d",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocFundContent\", JSON.stringify(utils.buildCompositeFund(utils.buildFundMinContent(\"ALLOC-FND\", pm.environment.get(\"allocLedgerId\")))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocFundContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c47cf30a-01ef-47dd-8bd6-148c0304cab5",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function() {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"allocBudgetId\", record.id); ",
													"    pm.expect(record.name).to.eql(\"ALLOC-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d26e4454-e3e9-44a1-a575-65a11e62bd0f",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"ALLOC-BDGT\", pm.environment.get(\"toFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get fiscal year by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7cf5ffc3-f607-4eba-bb68-d99da4995c15",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Fiscal year is retrieved\", function() {",
													"    pm.response.to.be.ok;",
													"    utils.validateFiscalYear(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "1fa405a8-ce55-4b23-aca9-435158f7e927",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{allocFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{allocFiscalYearId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "837af015-4766-482b-b18d-06b00f399467",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Fund is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateCompositeFund(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "4f7b5bd1-e7d2-45f6-9ad7-2ab1aae74ed6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{toFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d1a4d782-78ba-45ac-82db-27a1fd5588e7",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Budget is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateBudget(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "68a22bd8-913d-4bd1-beee-1c414c7144af",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{allocBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create allocations",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8b57b03b-b053-421e-810f-606fe2d7bbe9",
												"exec": [
													"let record = {};",
													"pm.test(\"Trasaction allocation is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"transactionId\", pm.response.json().id); ",
													"    record = pm.response.json();",
													"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "be2d7ae0-90ff-4086-930a-9947ab99b9d1",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionMinContent(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"toFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get transaction by id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ba35cb53-ed81-4956-a7c3-b7c6bbc3249e",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"pm.test(\"Transaction allocation is retrieved\", function () {",
													"    pm.response.to.be.ok;",
													"    utils.validateTransaction(pm.response.json());",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "f36f77ca-16f3-44e8-aa89-bfcc8389e227",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d5f6acc0-f57a-4a8c-b0d2-c0b17ac180e8",
												"exec": [
													"pm.test(\"Budget deletion is failed\", function () {",
													"    pm.response.to.have.status(400).and.to.be.json;",
													"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
													"    pm.expect(pm.response.json().errors[0].code).to.contain(\"transactionIsPresentBudgetDeleteError\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "244d65f7-be3a-40d7-86d5-5dac17c090fa",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{allocBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "06ab3718-4ada-448c-9535-f98540be1d81",
												"exec": [
													"pm.test(\"Transaction is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "fe9d018a-b4eb-4cbb-b760-7898e399d1c3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions/{{transactionId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance-storage",
												"transactions",
												"{{transactionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete budget record after transaction",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c864ef88-e02e-4feb-a3e6-e94fbc2712e4",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "37589106-c306-47f8-8b4d-c699dfc9b5c1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{allocBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{allocBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "894a9f1b-f60e-46e1-b5c0-e1c60dae338a",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "66e85d82-7da6-4d72-ad7e-17775df02afe",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{toFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{toFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Ledger",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1d44d333-efc0-434b-869f-9c564226196a",
												"exec": [
													"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c2b1f3dc-d51d-4dbf-a0e7-1011c59105ec",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{allocLedgerId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{allocLedgerId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "23df5e1b-8ca3-44ea-942a-50f75a523887",
												"exec": [
													"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "aec159df-aa0d-4de0-9338-97a2be85a235",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{allocFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{allocFiscalYearId}}"
											]
										}
									},
									"response": []
								}
							],
							"description": "Delete budget with existing transaction",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "34bb6299-9856-4656-9e7e-e682da8f24ca",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f7219177-17eb-4477-9fca-162f94c63295",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create first budget for negative tests",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "98b45fb5-2812-4b64-9d08-d474a349df69",
										"exec": [
											"pm.test(\"Budget is created\", function() {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"budgetId\", pm.response.json().id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e2748902-a857-497f-b86e-c6021a7a2bc7",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"budgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"TST1\")));",
											"pm.environment.set(\"firstBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"TST1\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{budgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create second budget for negative tests",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f329f458-cdbc-4f3a-b492-83e7f8e0a6fa",
										"exec": [
											"pm.test(\"Budget is created\", function () {",
											"    pm.response.to.have.status(201);",
											"    let record = pm.response.json();",
											"    pm.environment.set(\"budgetId2\", record.id);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "01c2db09-b11f-4918-8c92-ccdf23aeb68c",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"let scndBudget = utils.buildBudgetMinContent(\"TST2\");",
											"scndBudget.fundId = pm.environment.get(\"fundId2\");",
											"",
											"pm.variables.set(\"budgetContent\", JSON.stringify(scndBudget));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{budgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create budget without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8b043a46-8297-4ad8-9954-8a148a817daa",
										"exec": [
											"pm.test(\"Budget is not created\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(4);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "31fa27ed-c80e-4a16-9da1-ddd2478df463",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create budget - name already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3f64c151-ae41-4a77-9da7-36279235d138",
										"exec": [
											"pm.test(\"Budget is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"value already exists\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "7a92b644-d5c0-4b32-8a18-68f1b8b40820",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"budgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"TST1\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{budgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create budget - non existent fund",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6511ef33-f55f-422e-be45-ecb99e56ea9c",
										"exec": [
											"pm.test(\"Budget is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"fundid\").and.to.contain(\"because it does not exist in\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "42de2198-aa21-4f90-9c5d-ba6b3542eed1",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"var uuid = require('uuid');",
											"",
											"pm.variables.set(\"budgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"TST3\", uuid.v4())));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{budgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create budget - non existent fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d05e533c-b123-48be-b0b9-db5658ebecfc",
										"exec": [
											"pm.test(\"Budget is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"fiscalyearid\").and.to.contain(\"because it does not exist in\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "56f78754-f6e8-4ca2-8bf8-ba044649f9b9",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"var uuid = require('uuid');",
											"",
											"let record = utils.buildBudgetMinContent(\"TST3\");",
											"record.fiscalYearId = uuid.v4();",
											"pm.variables.set(\"budgetContent\", JSON.stringify(record));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{budgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update budget - name already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1fb59034-ef4b-4694-a80b-b7a29f965688",
										"exec": [
											"pm.test(\"Budget is not updated\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"value already exists\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1c7b493f-44d5-4cb1-b065-f7f6c28e287f",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.variables.set(\"budgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"TST1\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{budgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{budgetId2}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets",
										"{{budgetId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Search for budgets by bad query",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0af819aa-0276-4c8d-9e47-d52e16b297ea",
										"exec": [
											"pm.test(\"Budgets cannot be found\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"cql\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "673fe2e4-afec-4225-9414-92d0db7c0a90",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets?query=invalid cql",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets"
									],
									"query": [
										{
											"key": "query",
											"value": "invalid cql"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Budgets Restrictions",
					"item": [
						{
							"name": "Allocate money for budget",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d314571e-6c38-4703-bac7-df1238c322d8",
										"exec": [
											"let record = {};",
											"pm.test(\"Trasaction allocation is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"transactionId\", pm.response.json().id); ",
											"    record = pm.response.json();",
											"    pm.expect(record.transactionType).to.eql(\"Allocation\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1ad26750-679c-4e44-85d4-477efdd12000",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionMinContent(90, pm.environment.get(\"fiscalYearId\"), pm.environment.get(\"fundId\"), \"Allocation\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{allocationContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"allocations"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create order transaction summaries",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "ddadd082-2699-4e3e-b075-458b8ab01a8d",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "d464132d-9295-4672-94a7-60083996a410",
										"exec": [
											"pm.test(\"Order transaction summary is created\", () => {",
											"    pm.environment.set(\"orderTransactionIdBudget\", pm.response.json().id);",
											"    pm.response.to.have.status(201);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"id\": \"e5ae4afd-3fa9-494e-a972-f541df9b8772\",\r\n  \"numTransactions\": 1\r\n}\r\n"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/order-transaction-summaries",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"order-transaction-summaries"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create invoice transaction summary",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "17114ffe-9b9e-4e41-8141-bfb440889785",
										"exec": [
											"pm.test(\"Trasaction allocation is created\", () => {",
											"    pm.environment.set(\"invoiceTransactionSummaryId\", pm.response.json().id);",
											"    pm.response.to.have.status(201);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e9b1afc9-1d5f-4b94-8fc5-be5af9f86e4d",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"id\": \"187c7e6f-782a-4bd0-a04e-7174d4da2415\",\n  \"numPendingPayments\": 1,\n  \"numPaymentsCredits\": 1\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/invoice-transaction-summaries",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"invoice-transaction-summaries"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create encumbrances",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2a795423-4a90-48dd-97af-50a8727ccbf7",
										"exec": [
											"let record = {};",
											"pm.test(\"Trasaction encumbrance is created\", () => {",
											"    pm.response.to.have.status(201);",
											"    pm.environment.set(\"encumbranceId\", pm.response.json().id);",
											"    record = pm.response.json();",
											"    pm.expect(record.transactionType).to.eql(\"Encumbrance\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0075d880-f784-40db-b418-07c3b7e5f5a5",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"let encumbranceMinContent = utils.buildEncumbranceMinContent();",
											"let transactionEncumbrance = utils.buildTransactionMinContent(25, pm.environment.get(\"fiscalYearId\"), pm.environment.get(\"fundId\"), \"Encumbrance\");",
											"",
											"transactionEncumbrance.encumbrance = encumbranceMinContent;",
											"transactionEncumbrance.encumbrance.sourcePurchaseOrderId = pm.environment.get(\"orderTransactionIdBudget\");",
											"transactionEncumbrance.fromFundId = pm.environment.get(\"fundId\");",
											"pm.environment.set(\"encumbranceContent\", JSON.stringify(transactionEncumbrance));",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{encumbranceContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/encumbrances",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"encumbrances"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create pending payment",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "581060f8-814a-46e2-9ba9-163c2a0fd9ad",
										"exec": [
											"pm.test(\"Trasaction pending payment is created\", () => {",
											"    pm.response.to.have.status(201);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "4f1e87cc-3570-40f4-aa8d-151bb1c116b9",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let pendingPayment = utils.buildPaymentTransactionMinContent(30, pm.environment.get(\"fiscalYearId\"), pm.environment.get(\"fundId\"), \"Pending payment\");",
											"pm.environment.set(\"paymentContent\", JSON.stringify(pendingPayment));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken-testAdmin}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{paymentContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance-storage/transactions",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance-storage",
										"transactions"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create payment",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ef20ca8b-2435-4bae-9705-2bd7cfb77824",
										"exec": [
											"pm.test(\"Trasaction payment is created\", () => {",
											"    pm.response.to.have.status(201);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "13f70ea1-3baf-436a-8dc5-fcaf9fd3f3c6",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.environment.set(\"paymentContent\", JSON.stringify(utils.buildPaymentTransactionMinContent(30, pm.environment.get(\"fiscalYearId\"), pm.environment.get(\"fundId\"), \"Payment\")));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{paymentContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/payments",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"payments"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get updated budget",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "68de6986-e264-4998-8121-f302acdb0215",
										"exec": [
											"pm.test(\"Get Budget\", function() {",
											"    pm.response.to.have.status(200);",
											"    pm.environment.set(\"firstBudgetContent\", JSON.stringify(pm.response.json()));",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "cb08ebdd-a7ff-4cf0-a329-3aa9595c819c",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{budgetId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets",
										"{{budgetId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update budget allowableEncumbrance",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ec0b3b14-fc71-4d46-91e4-6045e35486f8",
										"exec": [
											"pm.test(\"Budget is not updated\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].code).to.contain(\"allowableEncumbranceLimitExceeded\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "9de463e4-87d3-4d1e-bea5-b505a3c339d0",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"let budgetForUpdate = JSON.parse(pm.environment.get(\"firstBudgetContent\"));",
											"",
											"budgetForUpdate.allowableEncumbrance = 1;",
											"budgetForUpdate.allowableExpenditure = 100;",
											"",
											"",
											"pm.variables.set(\"firstBudgetContent\", JSON.stringify(budgetForUpdate));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{firstBudgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{budgetId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets",
										"{{budgetId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get updated budget Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d866a7ff-b484-4323-8d9a-cdc61b4828ff",
										"exec": [
											"pm.test(\"Get Budget\", function() {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8727d5a6-40f2-4838-97a6-0d297504b6ce",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{budgetId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets",
										"{{budgetId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update budget allowableExpenditures",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5b3f5fd2-429e-4efa-adf8-9ad66fa527ce",
										"exec": [
											"pm.test(\"Budget is not updated\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].code).to.contain(\"allowableExpenditureLimitExceeded\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "28e8b239-6053-4002-8c29-2c345d30d985",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"let budgetForUpdate = JSON.parse(pm.variables.get(\"firstBudgetContent\"));",
											"",
											"budgetForUpdate.allowableEncumbrance = 100;",
											"budgetForUpdate.allowableExpenditure = 1;",
											"",
											"pm.variables.set(\"firstBudgetContent\", JSON.stringify(budgetForUpdate));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{firstBudgetContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{budgetId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"budgets",
										"{{budgetId}}"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "cc7883a8-e370-4877-9fe4-cb473750c5d5",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a738f845-a0de-45c8-afd4-4053dcc85846",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Group fund fiscal year",
					"item": [
						{
							"name": "Create group fund fiscal year without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "65911701-7605-4a0a-a51b-ddf54ece4ddf",
										"exec": [
											"pm.test(\"Group fund fiscal year is not created\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters[0].key).to.eql(\"groupId\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "169fdabc-f4ca-45cd-b588-544095e7c004",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"id\": \"78872d8a-bf16-420b-829f-206da38f6c10\",\r\n  \"fiscalYearId\": \"684b5dc5-92f6-4db7-b996-b549d88f5e4e\",\r\n  \"fundId\": \"68872d8a-bf16-420b-829f-206da38f6c10\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create group fund fiscal year",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a62b08fe-c394-4928-b25c-a4b832da30ab",
										"exec": [
											"pm.test(\"Group fund fiscal year is created\", function () {",
											"    pm.response.to.have.status(201);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "2fd1f3da-4572-4e33-bc16-c02ea9492fca",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"id\": \"a8bf1036-502c-42e4-8783-00a60beeae24\",\r\n  \"groupId\": \"{{groupId}}\",\r\n  \"fiscalYearId\": \"{{fiscalYearId}}\",\r\n  \"fundId\": \"{{fundId}}\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create group fund fiscal year - already exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "95fa3f8e-3865-4c49-89c5-46e94eebcb43",
										"exec": [
											"pm.test(\"Group fund fiscal year is not created\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"value already exists\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3539062d-00b6-4c66-8f40-e0fe6817b13f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"id\": \"a8bf1036-502c-42e4-8783-00a60beeae24\",\r\n  \"groupId\": \"{{groupId}}\",\r\n  \"fiscalYearId\": \"{{fiscalYearId}}\",\r\n  \"fundId\": \"{{fundId}}\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete group fund fiscal year - not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0a9734ac-fd37-4292-82e4-714680dd90de",
										"exec": [
											"pm.test(\"Group fund fiscal year is not deleted\", function () {",
											"    pm.response.to.have.status(404).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"Not found\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8cf8601e-a2b8-49ee-b647-a8a09ab2f42b",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fund-fiscal-years/d65969c5-1887-4801-8024-486502bd2a1b",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fund-fiscal-years",
										"d65969c5-1887-4801-8024-486502bd2a1b"
									]
								}
							},
							"response": []
						},
						{
							"name": "Search for group fund fiscal year by bad query",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "88349e92-3f24-4502-8080-eb8a29d322d2",
										"exec": [
											"pm.test(\"Fund types cannot be found\", function () {",
											"    pm.response.to.have.status(400).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.contain(\"cql\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "73167823-2816-4921-b299-867675970f9c",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fund-types?query=invalid cql",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"fund-types"
									],
									"query": [
										{
											"key": "query",
											"value": "invalid cql"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Assign funds to groups",
					"item": [
						{
							"name": "Prepare data for testing",
							"item": [
								{
									"name": "Create fiscal year one",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "22ba8ecd-bb53-4e69-b972-65902b5b6102",
												"exec": [
													"pm.test(\"Fiscal year is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"testNegativeFiscalYearOneId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "fb309dd1-7995-4810-8615-e3d8abda4850",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"const moment = require('moment');",
													"const today = moment.utc();",
													"",
													"var fiscalYear = utils.buildFiscalYearMinContent();",
													"var start = today.startOf('year').subtract(1, 'years');",
													"var end = today.endOf('year').subtract(1, 'years');",
													"",
													"fiscalYear.periodStart = start.format('YYYY-MM-DD');",
													"fiscalYear.periodEnd = end.format('YYYY-MM-DD');",
													"fiscalYear.series = \"TESTNEGATIVE\";",
													"fiscalYear.code = \"TESTNEGATIVE2018\";",
													"",
													"pm.variables.set(\"fyContent\", JSON.stringify(fiscalYear));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{fyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create  after next fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "66cc3a3c-6cec-4f15-a232-63c2b87d83c2",
												"exec": [
													"pm.test(\"Fiscal year is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"afterNextFiscalYearId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "f7e3f593-d38f-4522-915b-d9d65e157300",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"const moment = require('moment');",
													"const today = moment.utc();",
													"",
													"var fiscalYear = utils.buildFiscalYearMinContent();",
													"var start = today.startOf('year').add(2, 'years');",
													"var end = today.endOf('year').add(2, 'years');",
													"",
													"fiscalYear.periodStart = start.format('YYYY-MM-DD');",
													"fiscalYear.periodEnd = end.format('YYYY-MM-DD');",
													"fiscalYear.series = \"TESTNEGATIVE\";",
													"fiscalYear.code = \"TESTNEGATIVE2021\";",
													"pm.variables.set(\"fyContent\", JSON.stringify(fiscalYear));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{fyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ledger",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "712af16c-f457-4f88-abf6-f2ed653513de",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"negativeLedgerId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "1bfbc345-2bc3-4411-b72a-931f5d3ea6e1",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let ledger = utils.buildLedgerMinContent();",
													"ledger.fiscalYearOneId = pm.environment.get(\"testNegativeFiscalYearOneId\");",
													"ledger.name = \"Negative\";",
													"ledger.code = \"TESTNEGATIVE\";",
													"pm.variables.set(\"ledgerContent\", JSON.stringify(ledger));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{ledgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create fund with groups - current fiscal year not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b094986a-0c07-48a2-b045-7c75a6b8326a",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Fund is not created\", function () {",
											"    pm.response.to.have.status(422);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "aeb8f645-7241-4bb6-98b5-5d9681aae738",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let fund = utils.buildFundMinContent(\"TESTNEGATIVE\");",
											"fund.fundTypeId = pm.variables.get(\"fundTypeId\");",
											"fund.ledgerId = pm.environment.get(\"negativeFyLedgerId\");",
											"",
											"let compositeFund = utils.buildCompositeFund(fund);",
											"compositeFund.groupIds.push(pm.environment.get(\"groupId\"));",
											"pm.variables.set(\"fundContent\", JSON.stringify(compositeFund));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update fund with groups - current fiscal year not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "567a847c-1773-40c9-8bf6-c9c9f649eb96",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let record = {};",
											"",
											"pm.test(\"Fund is not updated\", function () {",
											"    pm.response.to.have.status(422);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "badfa68a-2464-4fba-abb5-a479f619ae17",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"let fund = utils.buildFundMinContent(\"TESTNEGATIVE\");",
											"fund.fundTypeId = pm.variables.get(\"fundTypeId\");",
											"fund.ledgerId = pm.environment.get(\"negativeFyLedgerId\");",
											"",
											"let compositeFund = utils.buildCompositeFund(fund);",
											"compositeFund.groupIds.push(pm.environment.get(\"groupId2\"));",
											"pm.variables.set(\"fundContent\", JSON.stringify(compositeFund));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{fundContent}}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{nextFyFundId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"funds",
										"{{nextFyFundId}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Transactions",
					"item": [
						{
							"name": "Restrictions",
							"item": [
								{
									"name": "Create fiscal year  - required for budgets Copy",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "fb5dab20-a899-4502-8965-2a89c3e731a6",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"allocFyContent\", JSON.stringify(utils.buildFiscalYearMinContent(\"ALLOCFY2019\")));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "e370809c-85d5-46ab-9ca5-21e6db6571ad",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocFiscalYearId\", pm.response.json().id);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocFyContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ledger - required for funds Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6e67f9be-f16c-4fa2-bc22-e4f968ef7254",
												"exec": [
													"pm.test(\"Ledger is created\", () => {",
													"    pm.response.to.have.status(201);",
													"    pm.environment.set(\"allocLedgerId\", pm.response.json().id); ",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5dd08493-481d-49f6-af7c-ab5f2c4c74fb",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let ledger = utils.buildLedgerMinContent(\"ALLOC-LDGR\", \"Test transaction ledger\");",
													"ledger.fiscalYearOneId = pm.environment.get(\"allocFiscalYearId\");",
													"pm.environment.set(\"allocLedgerContent\", JSON.stringify(ledger));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocLedgerContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create HIST fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "307a68d2-19bf-46dc-80c8-24960fd4369b",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"histFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"HIST\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2d0296c3-3fb9-4285-8b74-fcb7da10c70a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"fund\": {\n\t  \"name\": \"History\",\n\t  \"code\": \"HIST\",\n\t  \"externalAccountNo\": \"276507594438808\",\n\t  \"fundStatus\": \"Active\",\n\t  \"description\": \"subdivided by geographic regions, to match individual selectors\",\n\t  \"ledgerId\": \"{{allocLedgerId}}\"\n\t}\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create CANHIST fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "30241346-57a2-4871-9cdd-b4ba6614a157",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"canhistFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"CANHIST\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ea05befb-ef92-4536-9397-47a29fc661fa",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"fund\": {\n\t  \"name\": \"Canadian History\",\n\t  \"code\": \"CANHIST\",\n\t  \"externalAccountNo\": \"114929793941270\",\n\t  \"fundStatus\": \"Active\",\n\t  \"description\": \"WAITING FOR ADMIN APPROVAL; use for Canada once CANLATHIST is inactivated\",\n\t  \"ledgerId\": \"{{allocLedgerId}}\",\n\t  \"allocatedFromIds\": [\"{{histFundId}}\"]\n\t}\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create LATHIST fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e1453c01-af4d-41d9-bd18-01d647a90448",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"lathistFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"LATHIST\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "122a402d-863f-44a6-a87d-ca11063a45f0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"fund\": {\n\t  \"name\": \"Latin America History\",\n\t  \"code\": \"LATHIST\",\n\t  \"externalAccountNo\": \"114929793941270\",\n\t  \"fundStatus\": \"Active\",\n\t  \"description\": \"WAITING FOR ADMIN APPROVAL\",\n\t  \"ledgerId\": \"{{allocLedgerId}}\"\n\t}\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update HIST fund - add allocatedToIds set",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "316f714d-2715-4147-ac63-a27db302266d",
												"exec": [
													"pm.test(\"Fund is updated\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "91564764-e9a7-425e-8f54-770305d2b651",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"",
													"utils.sendGetRequest(\"/finance/funds/\" + pm.environment.get(\"histFundId\"), function (err, res) {",
													"    let histFund = res.json();",
													"    histFund.fund.allocatedToIds = new Array(pm.environment.get(\"canhistFundId\"), pm.environment.get(\"lathistFundId\"));",
													"    ",
													"    pm.environment.set(\"histFundContent\", JSON.stringify(histFund));",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{histFundContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{histFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{histFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ASIAHIST fund - required for transactions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c1512123-0230-4337-ae5f-1999db54d760",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Fund is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Fund content is valid\", function() {",
													"    utils.validateCompositeFund(record);",
													"    pm.environment.set(\"asiahistFundId\", record.fund.id); ",
													"    pm.expect(record.fund.code).to.eql(\"ASIAHIST\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "02bfc8b7-f64a-46f4-9423-67394a55f30e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"fund\": {\n\t  \"name\": \"Asian History\",\n\t  \"code\": \"ASIAHIST\",\n\t  \"externalAccountNo\": \"94508839006119\",\n\t  \"fundStatus\": \"Active\",\n\t  \"description\": \"use for East, Central, and South Asia\",\n\t  \"ledgerId\": \"{{allocLedgerId}}\",\n\t  \"allocatedToIds\": [\"{{histFundId}}\"],\n\t  \"allocatedFromIds\": [\"cf23adf0-61ba-4887-bf82-956c4aae2260\"]\n\t}\n}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create HIST budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "575af6a3-75ba-45f2-98ad-d5152ee7ec68",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function () {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"histBudgetId\", record.id);",
													"    pm.expect(record.name).to.eql(\"HIST-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "1f21e8f5-3c08-4a79-97ee-ba68f730c201",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"histBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"HIST-BDGT\", pm.environment.get(\"histFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{histBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create CANHIST budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "437bcbb7-ed6f-407d-b372-6c6c8ec23b8a",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function () {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"canhistBudgetId\", record.id);",
													"    pm.expect(record.name).to.eql(\"CANHIST-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "7086ff74-1bf1-49ba-a73d-b4881f5d3ee3",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"canhistBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"CANHIST-BDGT\", pm.environment.get(\"canhistFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{canhistBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create LATHIST budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ee12ddfa-158b-4f57-a7e9-971529585730",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function () {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"lathistBudgetId\", record.id);",
													"    pm.expect(record.name).to.eql(\"LATHIST-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "82de2122-db29-4668-8911-d8eba0db0b84",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"lathistBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"LATHIST-BDGT\", pm.environment.get(\"lathistFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{lathistBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create ASIAHIST budget",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8d5ce480-828b-4a20-b42d-b5457afcb919",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"let record = {};",
													"",
													"pm.test(\"Budget is created\", function () {",
													"    pm.response.to.have.status(201);",
													"    record = pm.response.json();",
													"});",
													"",
													"pm.test(\"Budget content is valid\", function () {",
													"    utils.validateBudget(record);",
													"    pm.environment.set(\"asiahistBudgetId\", record.id);",
													"    pm.expect(record.name).to.eql(\"ASIAHIST-BDGT\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "bd2c91fd-b814-4d81-99b8-00a71df95782",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.variables.set(\"asiahistBudgetContent\", JSON.stringify(utils.buildBudgetMinContent(\"ASIAHIST-BDGT\", pm.environment.get(\"asiahistFundId\"), pm.environment.get(\"allocFiscalYearId\"))));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{asiahistBudgetContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create allocation with allocated ids mismatch",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "581ce228-97c2-4431-ac19-eb73209102f9",
												"exec": [
													"pm.test(\"Allocation is not created - allocated ids mismatch\", function () {",
													"    pm.response.to.have.status(422).and.to.be.json;",
													"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
													"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Allowable allocation ids mismatch\");",
													"    pm.expect(pm.response.json().errors[0].code).to.eql(\"allowableAllocationIdsMismatch\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "77b35305-d729-4a57-893f-6105e4128f17",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"asiahistFundId\"), pm.environment.get(\"canhistFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create transfer with allocated ids mismatch",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9fc46668-9302-43f7-be73-703fb5afe123",
												"exec": [
													"pm.test(\"Transfer is not created - allocated ids mismatch\", function () {",
													"    pm.response.to.have.status(422).and.to.be.json;",
													"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
													"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Allowable allocation ids mismatch\");",
													"    pm.expect(pm.response.json().errors[0].code).to.eql(\"allowableAllocationIdsMismatch\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "0fd9a1d9-e411-490a-91aa-c5840ffc6128",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"asiahistFundId\"), pm.environment.get(\"canhistFundId\"), \"Transfer\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create allocation with allocatedFromIds mismatch",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a354fdfc-f78b-4ed3-91df-1aa275c1ec1d",
												"exec": [
													"pm.test(\"Transfer is not created - allocated ids mismatch\", function () {",
													"    pm.response.to.have.status(422).and.to.be.json;",
													"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
													"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Allowable allocation ids mismatch\");",
													"    pm.expect(pm.response.json().errors[0].code).to.eql(\"allowableAllocationIdsMismatch\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "89a0b273-1f4e-412c-b338-d3c6bfca22a4",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"lathistFundId\"), pm.environment.get(\"canhistFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create transfer with allocatedFromIds mismatch",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2edc5ced-5514-4a83-9aa5-4ef2db991e7f",
												"exec": [
													"pm.test(\"Transfer is not created - allocated ids mismatch\", function () {",
													"    pm.response.to.have.status(422).and.to.be.json;",
													"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
													"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Allowable allocation ids mismatch\");",
													"    pm.expect(pm.response.json().errors[0].code).to.eql(\"allowableAllocationIdsMismatch\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "4d769369-c45e-428b-984a-8cfe72450ede",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"lathistFundId\"), pm.environment.get(\"canhistFundId\"), \"Transfer\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create allocation with allocatedToIds mismatch",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "140facf1-f7cf-4380-8268-3c5acb2fa300",
												"exec": [
													"pm.test(\"Transfer is not created - allocated ids mismatch\", function () {",
													"    pm.response.to.have.status(422).and.to.be.json;",
													"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
													"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Allowable allocation ids mismatch\");",
													"    pm.expect(pm.response.json().errors[0].code).to.eql(\"allowableAllocationIdsMismatch\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6239d022-9e69-49e0-bfa2-903e9f827ac6",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"asiahistFundId\"), pm.environment.get(\"lathistFundId\"), \"Allocation\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"allocations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create transfer with allocatedToIds mismatch",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d7fcaad1-51bb-49ad-b732-2c7d817560eb",
												"exec": [
													"pm.test(\"Transfer is not created - allocated ids mismatch\", function () {",
													"    pm.response.to.have.status(422).and.to.be.json;",
													"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
													"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Allowable allocation ids mismatch\");",
													"    pm.expect(pm.response.json().errors[0].code).to.eql(\"allowableAllocationIdsMismatch\");",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "12072326-e155-46af-ab83-5ca097e6e0e4",
												"exec": [
													"let utils = eval(globals.loadUtils);",
													"pm.environment.set(\"allocationContent\", JSON.stringify(utils.buildTransactionBetweenFunds(25, pm.environment.get(\"allocFiscalYearId\"), pm.environment.get(\"asiahistFundId\"), pm.environment.get(\"lathistFundId\"), \"Transfer\")));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{allocationContent}}"
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete HIST budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "57f7e374-3b05-4bb6-b8c4-bfe74da37b5a",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "27e3fb0e-8e45-46db-b5c8-b18eedb0d007",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{histBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{histBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete CANHIST budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "878c5831-9bb5-4ec7-83b3-7ec151113243",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "080c6fd4-ec17-4c72-b6b2-be1f15472914",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{canhistBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{canhistBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete LATHIST budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ac4604dd-8e01-4752-94e6-b9a60f1c5eea",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2edfc7d9-e004-4b6e-a119-bcb9b9ad51f1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{lathistBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{lathistBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete ASIAHIST budget record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c6eecb55-d993-4480-8bac-5a2e57dad1b0",
												"exec": [
													"pm.test(\"Budget is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "176a2e7c-9cf7-4742-860d-0576cb9c367b",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/budgets/{{asiahistBudgetId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"budgets",
												"{{asiahistBudgetId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete ASIAHIST fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ddfdcbd1-dd59-4ce2-8c65-f6b2fea20ee1",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6e6a6791-92cb-4395-bd88-8c9a1606e813",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{asiahistFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{asiahistFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete LATHIST fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9e89e371-b281-44f8-8e6d-589ec741f37c",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9fe64c4a-2a98-434d-888e-6e023af614e0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{lathistFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{lathistFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete CANHIST fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "96d4dd18-0a85-453e-adbc-61af7457f4f4",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "7ad23e7a-144c-4e60-aa5f-73597430269f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{canhistFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{canhistFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete HIST fund record",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8515bbb1-df85-429a-9f67-c9ac1da4b463",
												"exec": [
													"pm.test(\"Fund is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9c2489a8-5195-4d28-9466-a4d068a6725b",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/funds/{{histFundId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"funds",
												"{{histFundId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Ledger",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8acc80f9-4c2e-4213-ad13-37f971cdabfa",
												"exec": [
													"pm.test(\"Ledger is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "57d99de9-179f-40f1-ba0a-b17a7e581b08",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{allocLedgerId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"ledgers",
												"{{allocLedgerId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete fiscal year",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "58981287-9a1d-4f27-98f9-0ca842668df3",
												"exec": [
													"pm.test(\"Fiscal year is deleted\", () => pm.response.to.have.status(204));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "78c011f3-8c24-44dc-b918-a1d92905fbe5",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "x-okapi-token",
												"value": "{{xokapitoken}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/fiscal-years/{{allocFiscalYearId}}",
											"protocol": "{{protocol}}",
											"host": [
												"{{url}}"
											],
											"port": "{{okapiport}}",
											"path": [
												"finance",
												"fiscal-years",
												"{{allocFiscalYearId}}"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create transaction Transfer without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "86a24977-b598-4fbc-80e3-f6ea7d6dec47",
										"exec": [
											"pm.test(\"Transfers is not created - missing fiscalYearId field\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters[0].key).to.eql(\"fiscalYearId\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "fb7677a4-fd1a-4352-bc28-5d18265511d9",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Transfer\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"allocations"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Allocation without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c6b6fddb-90ae-4e73-8803-89bdab568e99",
										"exec": [
											"pm.test(\"Allocations is not created - missing currency field\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters[0].key).to.eql(\"currency\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "40180e20-6cb1-49fb-8407-409dcb1a6ff2",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Allocation\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"allocations"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Allocation without toFundId and fromFundId",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "faa1f831-f8dd-4fdf-93dc-8cf23cbddf89",
										"exec": [
											"pm.test(\"Allocations is not created - missing currency field\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.be.eql(\"Missing to/from fund id\")",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e657d614-3571-4f48-bb47-2ab02e0d4555",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"transactionType\": \"Allocation\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"allocations"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Transfer without fromFundId",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "76361f04-6aae-4b2e-b6ac-34f703840477",
										"exec": [
											"pm.test(\"Allocations is not created - missing currency field\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.be.eql(\"Missing to/from fund id\")",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "bb65248a-9ab7-4de3-ac5e-443465d98678",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Transfer\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Transfer without toFundId",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b40755ff-2ae6-4eb3-9301-f38b39eb8522",
										"exec": [
											"pm.test(\"Allocations is not created - missing currency field\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].message).to.be.eql(\"Missing to/from fund id\")",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "02e7907b-8c69-484e-9b5c-9bf194992a6b",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"fromFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Transfer\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Encumbrance without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6ca89fa1-6fbc-4062-801d-6e6851161e9c",
										"exec": [
											"pm.test(\"Encumbrance is not created - missing transactionType field\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters[0].key).to.eql(\"transactionType\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "77df440e-e3d6-4005-a7ca-9d07d1cbd546",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/encumbrances",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"encumbrances"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Payment without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b531522f-a485-4625-9f1a-bf6639437099",
										"exec": [
											"pm.test(\"Payments is not created - missing fiscalYearId field\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters[0].key).to.eql(\"fiscalYearId\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "6544063d-0ddd-4928-a765-e151814f2af2",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Payment\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/payments",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"payments"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Credit without required field",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1c670c4b-5c59-469f-989f-3b20b518b62a",
										"exec": [
											"pm.test(\"Credits is not created - missing fiscalYearId field\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters[0].key).to.eql(\"fiscalYearId\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "ab0af681-590c-4119-a1b8-1557e578b319",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Credit\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/credits",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"credits"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get transaction by id - wrong id, not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d30e4d28-a2f8-4fec-a08f-0caad3fa1f4b",
										"exec": [
											"pm.test(\"Encumbrance not found - wrong id\", function () {",
											"    pm.response.to.have.status(404).and.to.be.json;",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "993b77ed-5c14-4d1e-9c2a-dbbb4411bcae",
										"exec": [
											"var uuid = require('uuid');",
											"pm.variables.set(\"randomId\", uuid.v4());"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transactions/{{randomId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"transactions",
										"{{randomId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Allocation with invalid transactionType",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0de7c523-1d5c-45a2-baf8-07817134b362",
										"exec": [
											"pm.test(\"Allocations is not created - invalid transactionType\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(0);",
											"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Invalid transaction type\");",
											"    pm.expect(pm.response.json().errors[0].code).to.eql(\"invalidTransactionType\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "6fb1e86b-9414-446e-807d-409f48409958",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Transfer\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/allocations",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"allocations"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Transfer with invalid transactionType",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2e33547e-2250-4908-af30-100e7af457d8",
										"exec": [
											"pm.test(\"Transfers is not created - invalid transactionType\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(0);",
											"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Invalid transaction type\");",
											"    pm.expect(pm.response.json().errors[0].code).to.eql(\"invalidTransactionType\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8df9e334-2a7c-4fc3-a562-488ed1eaecd1",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Allocation\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/transfers",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Payment with invalid transactionType",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7492310c-1aeb-43f1-b6eb-e39875679f22",
										"exec": [
											"pm.test(\"Payments is not created - invalid transactionType\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(0);",
											"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Invalid transaction type\");",
											"    pm.expect(pm.response.json().errors[0].code).to.eql(\"invalidTransactionType\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "460faa43-0ce8-435f-8acb-33fb20438917",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Allocation\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/payments",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"payments"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Credit with invalid transactionType",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e8ed6faf-ebc5-42e6-bb8a-12dc568c0ec6",
										"exec": [
											"pm.test(\"Credits is not created - invalid transactionType\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(0);",
											"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Invalid transaction type\");",
											"    pm.expect(pm.response.json().errors[0].code).to.eql(\"invalidTransactionType\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "163b601d-b8e8-4971-9483-dae33b7e0abb",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Allocation\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/credits",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"credits"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create transaction Encumbrance with invalid transactionType",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "396aa16f-5311-4572-b7f6-df38e6fadec2",
										"exec": [
											"pm.test(\"Encumbrances is not created - invalid transactionType\", function () {",
											"    pm.response.to.have.status(422).and.to.be.json;",
											"    pm.expect(pm.response.json().errors).to.have.lengthOf(1);",
											"    pm.expect(pm.response.json().errors[0].parameters).to.have.lengthOf(0);",
											"    pm.expect(pm.response.json().errors[0].message).to.eql(\"Invalid transaction type\");",
											"    pm.expect(pm.response.json().errors[0].code).to.eql(\"invalidTransactionType\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0af18958-4f75-4f6c-b17b-3a681e4cdba2",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"amount\": 25.0,\r\n  \"currency\": \"USD\",\r\n  \"description\": \"PO_Line: History of Incas\",\r\n  \"source\": \"User\",\r\n  \"fiscalYearId\": \"c01ea7fa-ffbd-48bc-8b48-67321d9ff205\",\r\n  \"toFundId\": \"0d55e306-d7ab-49a1-ae33-b94249bf95ee\",\r\n  \"transactionType\": \"Transfer\"\r\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/encumbrances",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"encumbrances"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Current fiscal year",
					"item": [
						{
							"name": "Get current fiscal year for non-existed ledger id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e29bd9ec-1886-45f1-9654-76ed6aaad751",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Current fiscal year isn't retrieved\", function() {",
											"    pm.response.to.have.status(404);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "ddf35920-4614-44e2-8cff-188a86798d83",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/ledgers/{{$guid}}/current-fiscal-year",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"ledgers",
										"{{$guid}}",
										"current-fiscal-year"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Group fiscal year summary",
					"item": [
						{
							"name": "Get group fiscal year summary - fiscal year not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "eb7b18a0-99b2-4463-ba9a-f0feb883f3f9",
										"exec": [
											"let utils = eval(globals.loadUtils);",
											"",
											"pm.test(\"Group fiscal year summary is empty\", function() {",
											"    pm.response.to.be.ok;",
											"    let summaries = pm.response.json().groupFiscalYearSummaries;",
											"    pm.expect(summaries.length).to.equal(0);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "53e55da7-efe1-4c96-9281-0179ddea448e",
										"exec": [
											"// let utils = eval(globals.loadUtils);",
											"",
											"// let fiscalYear = utils.buildFiscalYearMinContent(\"DD1259\");",
											"// let group = utils.buildGroupMinContent();",
											"",
											"// // Create fiscal year",
											"// pm.test(\"Fiscal year is created\", function() {",
											"//     utils.sendPostRequest('/finance/fiscal-years', fiscalYear, (err, res) => {",
											"//         pm.expect(res).to.have.status(201);",
											"//         pm.variables.set(\"fiscalYearId\", res.json().id);",
											"//             // Create group",
											"//             pm.test(\"Group is created\", function() {",
											"//                 utils.sendPostRequest('/finance/groups', group, (err, res) => {",
											"//                 pm.expect(res).to.have.status(201);",
											"//                 pm.variables.set(\"groupId\", res.json().id);",
											"//                 pm.variables.set(\"fiscalYearId\", res.json().id);",
											"//                 // Create fund",
											"//                 pm.test(\"Fund is created\", function() {",
											"//                     utils.sendPostRequest('/finance/funds', group, (err, res) => {",
											"//                     pm.expect(res).to.have.status(201);",
											"//                     pm.variables.set(\"fundIdId\", res.json().id);",
											"//                     });",
											"//                 });",
											"//             });",
											"//         });",
											"//     });",
											"// });",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/group-fiscal-year-summaries?query=groupFundFY.groupId={{groupId}} or groupId={{groupId}} and fiscalYearId=={{$guid}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"group-fiscal-year-summaries"
									],
									"query": [
										{
											"key": "query",
											"value": "groupFundFY.groupId={{groupId}} or groupId={{groupId}} and fiscalYearId=={{$guid}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Exchange rate",
					"item": [
						{
							"name": "Get exchange rate missing request parameters",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "deaa3987-8372-4b93-9339-daeb268fa99f",
										"exec": [
											"pm.test(\"Get exchange rate missing request parameters: status 400\", function() {",
											"    pm.response.to.have.status(400);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "bf148dda-f592-4b01-bc39-921577ee1dcb",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/exchange-rate",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"exchange-rate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get exchange rate missing from parameter",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6edbce79-9d3c-4459-98d8-fdb6408400a0",
										"exec": [
											"pm.test(\"Get exchange rate missing from parameter: status 400\", function() {",
											"    pm.response.to.have.status(400);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "16589ac5-0dea-4541-87bd-c5f0dabd5249",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/exchange-rate?to=USD",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"exchange-rate"
									],
									"query": [
										{
											"key": "to",
											"value": "USD"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get exchange rate missing to parameter",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "612f8ae7-d977-461d-a5cf-946226d39742",
										"exec": [
											"pm.test(\"Get exchange rate missing to parameter: status 400\", function() {",
											"    pm.response.to.have.status(400);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "848fb3a4-3a72-4593-abe8-8541695833c7",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/exchange-rate?from=USD",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"exchange-rate"
									],
									"query": [
										{
											"key": "from",
											"value": "USD"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get exchange rate for invalid currency code",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6a37c135-dc4d-44b2-8457-2dcc1a52bb1d",
										"exec": [
											"pm.test(\"Get exchange rate for invalid currency code: status 400\", function() {",
											"    pm.response.to.have.status(400);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a5d78dee-61dd-4403-8b33-0193e59ad20b",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/exchange-rate?from=USD&to=EU",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"exchange-rate"
									],
									"query": [
										{
											"key": "from",
											"value": "USD"
										},
										{
											"key": "to",
											"value": "EU"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get exchange rate for non-existent currency code",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "58fb50da-00d4-4905-9dda-3fe682e2ebdb",
										"exec": [
											"pm.test(\"Get exchange rate for non-existent currency code: status 400\", function() {",
											"    pm.response.to.have.status(400);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "693d1ecf-2614-4c5d-9b4c-51dbe11ca2db",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/exchange-rate?from=USD&to=ABC",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"exchange-rate"
									],
									"query": [
										{
											"key": "from",
											"value": "USD"
										},
										{
											"key": "to",
											"value": "ABC"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get exchange rate - not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6ce3594e-7bc1-4f2f-b88c-c70fd9aeafc9",
										"exec": [
											"pm.test(\"Get not availible exchange rate: NOT_FOUND\", function() {",
											"    pm.response.to.have.status(404);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c4a73d59-cd35-4b94-b714-8b5e288d74be",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/finance/exchange-rate?from=USD&to=ALL",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"finance",
										"exchange-rate"
									],
									"query": [
										{
											"key": "from",
											"value": "USD"
										},
										{
											"key": "to",
											"value": "ALL"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Cleanup",
			"item": [
				{
					"name": "Purge and disable all module for created tenant",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b9df48aa-2dba-4cb7-a93e-69f4bc496057",
								"exec": [
									"let utils = eval(globals.loadUtils);",
									"pm.sendRequest(utils.buildOkapiUrl(\"/_/proxy/tenants/\" + pm.variables.get(\"testTenant\") + \"/modules\"), (err, res) => {",
									"    pm.test(\"Preparing request to disable modules\", () => {",
									"        pm.expect(err).to.equal(null);",
									"        pm.expect(res.code).to.equal(200);",
									"        let modulesToDisable = res.json();",
									"        modulesToDisable.forEach(entry => entry.action = \"disable\");",
									"",
									"        console.log(modulesToDisable);",
									"        pm.variables.set(\"modulesToDisable\", JSON.stringify(modulesToDisable));",
									"    });",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3f47d90d-8df3-4ce5-a44e-267376b58a86",
								"exec": [
									"let utils = eval(globals.loadUtils);",
									"",
									"pm.test(\"Disable all modules for test tenant\", function () {",
									"    pm.response.to.have.status(200);",
									"    pm.response.to.be.withBody;",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-Okapi-Token",
								"value": "{{xokapitoken-admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{modulesToDisable}}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/_/proxy/tenants/{{testTenant}}/install?purge=true",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"_",
								"proxy",
								"tenants",
								"{{testTenant}}",
								"install"
							],
							"query": [
								{
									"key": "purge",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete test tenant",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ebe9abe9-d4f3-4d31-bdf0-c759d1a03748",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "56ffeea2-3d3f-4c43-8b70-d2574076b83b",
								"exec": [
									"pm.test(\"Tenant deleted - Expected Created (204)\", () => {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									"// Remove all created variables",
									"eval(globals.loadUtils).unsetTestVariables();"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken-admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/_/proxy/tenants/{{testTenant}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"_",
								"proxy",
								"tenants",
								"{{testTenant}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "2cf4b873-90ef-4181-aa73-755e0c4701da",
				"type": "text/javascript",
				"exec": [
					"const testData = {",
					"    // mod-configuration",
					"    configs: {",
					"        configNames: [],",
					"        bodyTemplate: {",
					"            \"module\": \"FINANCE\",",
					"            \"configName\": \"Test Config\",",
					"            \"description\": \"Config for API Tests\",",
					"            \"default\": true,",
					"            \"enabled\": true,",
					"            \"value\": \"\"",
					"        }",
					"    },",
					"    localeConfigs: {",
					"        configNames: [],",
					"        bodyTemplate: {",
					"            \"id\": \"00000002-1111-5555-9999-999999999999\",",
					"            \"module\": \"ORG\",",
					"            \"configName\": \"localeSettings\",",
					"            \"description\": \"locale Config for API Tests\",",
					"            \"default\": true,",
					"            \"enabled\": true,",
					"            \"value\": \"{\\\"locale\\\":\\\"en-US\\\",\\\"timezone\\\":\\\"America/New_York\\\",\\\"currency\\\":\\\"USD\\\"}\"",
					"        }",
					"    },",
					"    // User template with hardcoded id",
					"    users: {",
					"        admin: {",
					"            user: {",
					"                \"id\": \"00000000-1111-5555-9999-999999999999\",",
					"                \"username\": \"admin-user\",",
					"                \"active\": true,",
					"                \"personal\": {",
					"                    \"firstName\": \"Finance API - Admin\",",
					"                    \"lastName\": \"Finance Tests - Admin\"",
					"                }",
					"            },",
					"            credentials: {",
					"                \"id\": \"00000000-1111-5555-9999-999999999999\",",
					"                \"username\": \"admin-user\",",
					"                \"password\": \"admin-user-password\"",
					"            },",
					"            permissions: {",
					"                \"id\": \"00000000-1111-5555-9999-999999999999\",",
					"                \"userId\": \"00000000-1111-5555-9999-999999999999\",",
					"                \"permissions\": [\"finance-storage.transactions.item.delete\", \"finance.order-transaction-summaries.item.post\"]",
					"            }",
					"        },",
					"        regular: {",
					"            user: {",
					"                \"id\": \"00000001-1111-5555-9999-999999999999\",",
					"                \"username\": \"regular-user\",",
					"                \"active\": true,",
					"                \"personal\": {",
					"                    \"firstName\": \"Limited user\",",
					"                    \"lastName\": \"Finance Tests\"",
					"                }",
					"            },",
					"            credentials: {",
					"                \"id\": \"00000001-1111-5555-9999-999999999999\",",
					"                \"username\": \"regular-user\",",
					"                \"password\": \"regular-user-password\"",
					"            },",
					"            permissions: {",
					"                \"id\": \"00000001-1111-5555-9999-999999999999\",",
					"                \"userId\": \"00000001-1111-5555-9999-999999999999\",",
					"                \"permissions\": [",
					"                    \"finance.all\",",
					"                    \"finance.order-transaction-summaries.item.post\",",
					"                    \"finance-storage.transactions.item.delete\"",
					"                ]",
					"            }",
					"        }",
					"    },",
					"    tenant: {",
					"        \"id\": pm.variables.get(\"testTenant\"),",
					"        \"name\": \"Test finance tenant\",",
					"        \"description\": \"Tenant for test purpose\"",
					"    }",
					"",
					"};",
					"",
					"// Global testing object - used in further tests",
					"pm.globals.set(\"testData\", testData);",
					"",
					"postman.setGlobalVariable(\"loadUtils\", function loadUtils() {",
					"    let utils = {};",
					"    utils.schemaPrefix = \"finances_schema_\";",
					"",
					"    /**",
					"     * Builds Postman Request base data",
					"     */",
					"    utils.buildPmRequest = function (path, method, xokapitoken) {",
					"        return {",
					"            url: utils.buildOkapiUrl(path),",
					"            method: method,",
					"            header: {",
					"                \"X-Okapi-Tenant\": pm.variables.get(\"testTenant\"),",
					"                \"X-Okapi-Token\": xokapitoken || pm.environment.get(\"xokapitoken-testAdmin\")",
					"            }",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Creates OKAPI URL endpoint based on provided path",
					"     */",
					"    utils.buildOkapiUrl = function (path) {",
					"        return pm.environment.get(\"protocol\") + \"://\" + pm.environment.get(\"url\") + \":\" + pm.environment.get(\"okapiport\") + path;",
					"    };",
					"",
					"    /**",
					"     * Sends GET request and uses passed handler to handle result",
					"     */",
					"    utils.sendGetRequest = function (path, handler) {",
					"        pm.sendRequest(utils.buildPmRequest(path, \"GET\"), handler);",
					"    };",
					"",
					"    utils.sendPostRequest = function (path, postBody, handler) {",
					"        let pmRq = utils.buildPmRequest(path, \"POST\");",
					"        pmRq.body = JSON.stringify(postBody);",
					"        pmRq.header[\"Content-type\"] = \"application/json\";",
					"        pm.sendRequest(pmRq, handler);",
					"    };",
					"",
					"    /**",
					"     * Sends PUT request and uses passed handler to handle result",
					"     */",
					"    utils.sendPutRequest = function (path, body, handler) {",
					"        // Build request and add required header and body",
					"        let pmRq = utils.buildPmRequest(path, \"PUT\");",
					"        pmRq.header[\"Content-type\"] = \"application/json\";",
					"        pmRq.body = JSON.stringify(body);",
					"",
					"        pm.sendRequest(pmRq, handler);",
					"    };",
					"",
					"    /**",
					"     * Sends DELETE request and uses passed handler to handle result",
					"     */",
					"    utils.sendDeleteRequest = function (path, handler) {",
					"        pm.sendRequest(utils.buildPmRequest(path, \"DELETE\"), handler);",
					"    };",
					"",
					"",
					"    utils.copyJsonObj = function (obj) {",
					"        return JSON.parse(JSON.stringify(obj));",
					"    };",
					"",
					"    utils.getModuleId = function (moduleName, bodyHandler) {",
					"        pm.sendRequest({",
					"            url: utils.buildOkapiUrl(\"/_/proxy/modules?latest=1&filter=\" + moduleName),",
					"            method: \"GET\",",
					"            header: {",
					"                \"X-Okapi-Tenant\": pm.environment.get(\"xokapitenant\"),",
					"                \"X-Okapi-Token\": pm.environment.get(\"xokapitoken-admin\")",
					"            }",
					"        }, (err, res) => {",
					"            pm.test(moduleName + \" module is available\", () => {",
					"                pm.expect(err).to.equal(null);",
					"                pm.expect(res.code).to.equal(200);",
					"                bodyHandler(res.json()[0].id);",
					"            });",
					"        });",
					"    };",
					"",
					"    /* BEGIN - Functions to work with mod-configuration */",
					"    utils.getConfigsByName = function (configs, configName) {",
					"        return configs.filter(config => config.configName === configName);",
					"    };",
					"",
					"    utils.getConfigByName = function (configs, configName) {",
					"        return utils.getConfigByNameAndCode(configs, configName);",
					"    };",
					"",
					"    utils.getConfigByNameAndCode = function (configs, configName, configCode) {",
					"        let filteredConfigs = utils.getConfigsByName(configs, configName);",
					"        if (configCode) {",
					"            filteredConfigs = filteredConfigs.filter(config => config.code === configCode);",
					"        }",
					"        return filteredConfigs.length > 0 ? filteredConfigs[0] : null;",
					"    };",
					"",
					"    utils.createFinanceConfig = function (configName) {",
					"        let body = utils.copyJsonObj(globals.testData.configs.bodyTemplate);",
					"        body.configName = configName;",
					"        body.value = pm.variables.get(configName);",
					"        utils.createConfig(body);",
					"    };",
					"",
					"    utils.createConfig = function (body) {",
					"        utils.sendPostRequest(\"/configurations/entries\", body, function (err, response) {",
					"            pm.test(\"Config created. Config name = \" + body.configName, function () {",
					"                pm.expect(response.code).to.eql(201);",
					"            });",
					"        });",
					"    };",
					"",
					"    /**",
					"     * @param body with updated data",
					"     */",
					"    utils.updateConfig = function (body) {",
					"        utils.sendPutRequest(\"/configurations/entries/\" + body.id, body, (err, response) => {",
					"            pm.test(\"Config updated. Config name = \" + body.configName, function () {",
					"                pm.expect(response.code).to.eql(204);",
					"            });",
					"        });",
					"    };",
					"",
					"    utils.deleteConfig = function (id) {",
					"        const timerId = setTimeout(() => { }, 60000);",
					"        utils.processDeleteRequest(\"/configurations/entries/\" + id)",
					"            .then(code => utils.validateResultOfDeleteRequest(code))",
					"            .then(result => clearTimeout(timerId))",
					"            .catch(err => {",
					"                console.log(\"Error happened on Inventory Records deletion:\", err);",
					"                clearTimeout(timerId);",
					"            });",
					"    };",
					"    /* END - Functions to work with mod-configuration */",
					"",
					"    /**",
					"     * Build group record with minimal required fields.",
					"     */",
					"    utils.buildGroupMinContent = function (code, name) {",
					"        return {",
					"            \"code\": code || \"TST-GRP\",",
					"            \"status\": \"Active\",",
					"            \"name\": name || \"Test group\"",
					"        };",
					"",
					"    };",
					"    /**",
					"     * Build ledger record with minimal required fields.",
					"     */",
					"    utils.buildLedgerMinContent = function (code, name) {",
					"        return {",
					"            \"code\": code || \"TST-LDGR\",",
					"            \"ledgerStatus\": \"Active\",",
					"            \"name\": name || \"Test ledger\"",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Build fiscal year record with minimal required fields.",
					"     */",
					"    utils.buildFiscalYearMinContent = function (code) {",
					"        return {",
					"            \"code\": code || \"FY2019\",",
					"            \"name\": \"Test fiscal year\",",
					"            \"periodStart\": \"2019-01-01T00:00:00Z\",",
					"            \"periodEnd\": \"2025-12-30T23:59:59Z\",",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Build group fund fiscal year record with minimal required fields.",
					"     */",
					"    utils.buildGroupFundFiscalYearMinContent = function (groupId, fundId, fiscalYearId) {",
					"        return {",
					"            \"groupId\": groupId,",
					"            \"fiscalYearId\": fiscalYearId,",
					"            \"fundId\": fundId",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Build Fund record with minimal required fields.",
					"     */",
					"    utils.buildFundMinContent = function (code, ledgerId) {",
					"        return {",
					"            \"code\": code || \"TST-FND\",",
					"            \"fundStatus\": \"Active\",",
					"            \"ledgerId\": ledgerId || pm.variables.get(\"ledgerId\"),",
					"            \"name\": \"Test fund\"",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Build Composite Fund record.",
					"     */",
					"    utils.buildCompositeFund = function (fund, groupIds) {",
					"        return {",
					"            \"fund\": fund || buildFundMinContent(),",
					"            \"groupIds\": groupIds || []",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Build budget record with minimal required fields.",
					"     */",
					"    utils.buildBudgetMinContent = function (name, fundId, fiscalYearId) {",
					"        return {",
					"            \"allocated\": 0,",
					"            \"name\": name || \"TST-BDGT\",",
					"            \"budgetStatus\": \"Active\",",
					"            \"fundId\": fundId || pm.variables.get(\"fundId\"),",
					"            \"fiscalYearId\": fiscalYearId || pm.variables.get(\"fiscalYearId\"),",
					"            \"allowableEncumbrance\": 100,",
					"            \"allowableExpenditure\": 100",
					"        };",
					"    };",
					"",
					"    var uuid = require('uuid');",
					"    /**",
					"     * Build encumbrance record with minimal required fields.",
					"     */",
					"    utils.buildEncumbranceMinContent = function () {",
					"        return {",
					"            \"initialAmountEncumbered\": 25,",
					"            \"status\": \"Unreleased\",",
					"            \"orderType\": \"One-Time\",",
					"            \"subscription\": false,",
					"            \"reEncumber\": false,",
					"            \"sourcePurchaseOrderId\": \"e5ae4afd-3fa9-494e-a972-f541df9b877e\",",
					"            \"sourcePoLineId\": uuid.v4()",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Build transaction record with minimal required fields.",
					"     */",
					"    utils.buildTransactionMinContent = function (amount, fiscalYearId, toFundId, transactionType) {",
					"        return {",
					"            \"amount\": amount || 25.17,",
					"            \"currency\": \"USD\",",
					"            \"description\": \"PO_Line: History of Incas\",",
					"            \"fiscalYearId\": fiscalYearId,",
					"            \"source\": \"User\",",
					"            \"toFundId\": toFundId || pm.environment.get(\"toFundId\"),",
					"            \"transactionType\": transactionType",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Build transaction between funds record with minimal required fields.",
					"     */",
					"    utils.buildTransactionBetweenFunds = function (amount, fiscalYearId, fromFundId, toFundId, transactionType) {",
					"        return {",
					"            \"amount\": amount || 25.17,",
					"            \"currency\": \"USD\",",
					"            \"description\": \"PO_Line: History of Incas\",",
					"            \"fiscalYearId\": fiscalYearId,",
					"            \"source\": \"User\",",
					"            \"fromFundId\": fromFundId,",
					"            \"toFundId\": toFundId || pm.environment.get(\"toFundId\"),",
					"            \"transactionType\": transactionType",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Build payments transaction record with minimal required fields.",
					"     */",
					"    utils.buildPaymentTransactionMinContent = function (amount, fiscalYearId, fromFundId, transactionType) {",
					"        return {",
					"            \"amount\": amount || 25.17,",
					"            \"currency\": \"USD\",",
					"            \"description\": \"PO_Line: History of Incas\",",
					"            \"fiscalYearId\": fiscalYearId,",
					"            \"source\": \"User\",",
					"            \"fromFundId\": fromFundId || pm.environment.get(\"fromFundId\"),",
					"            \"sourceInvoiceId\": pm.environment.get(\"invoiceTransactionSummaryId\"),",
					"            \"transactionType\": transactionType",
					"        };",
					"    };",
					"",
					"    /**",
					"     * Build credits transaction record with minimal required fields.",
					"     */",
					"    utils.buildCreditTransactionMinContent = function (amount, fiscalYearId, toFundId, transactionType) {",
					"        return {",
					"            \"amount\": amount || 25.17,",
					"            \"currency\": \"USD\",",
					"            \"description\": \"PO_Line: History of Incas\",",
					"            \"fiscalYearId\": fiscalYearId,",
					"            \"source\": \"User\",",
					"            \"toFundId\": toFundId || pm.environment.get(\"toFundId\"),",
					"            \"sourceInvoiceId\": pm.environment.get(\"invoiceTransactionSummaryId\"),",
					"            \"transactionType\": transactionType",
					"        };",
					"    };",
					"",
					"",
					"    /**",
					"     * Validates the content of the fund type record",
					"     */",
					"    utils.validateFundType = function (jsonData) {",
					"        pm.expect(jsonData.id).to.exist;",
					"        pm.expect(jsonData.name).to.exist;",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"fund_type.json\")));",
					"    };",
					"",
					"    /**",
					"     * Validates the content of the fund record",
					"     */",
					"    utils.validateFund = function (jsonData) {",
					"        pm.expect(jsonData.id).to.exist;",
					"        pm.expect(jsonData.code).to.exist;",
					"        pm.expect(jsonData.fundStatus).to.exist;",
					"        pm.expect(jsonData.ledgerId).to.exist;",
					"        pm.expect(jsonData.name).to.exist;",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"fund.json\")));",
					"    };",
					"",
					"    /**",
					"     * Validates the content of the composite fund record",
					"     */",
					"    utils.validateCompositeFund = function (jsonData) {",
					"        pm.expect(jsonData.fund).to.exist;",
					"        utils.validateFund(jsonData.fund);",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"composite_fund.json\")));",
					"    };",
					"",
					"    /**",
					"     * Validates the content of the budget record",
					"     */",
					"    utils.validateBudget = function (jsonData) {",
					"        pm.expect(jsonData.id).to.exist;",
					"        pm.expect(jsonData.allocated).to.exist;",
					"        pm.expect(jsonData.budgetStatus).to.exist;",
					"        pm.expect(jsonData.fundId).to.exist;",
					"        pm.expect(jsonData.fiscalYearId).to.exist;",
					"        pm.expect(jsonData.name).to.exist;",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"budget.json\")));",
					"    };",
					"",
					"    /**",
					"     * Validates the content of the transaction record",
					"     */",
					"    utils.validateTransaction = function (jsonData) {",
					"        pm.expect(jsonData.id).to.exist;",
					"        pm.expect(jsonData.amount).to.exist;",
					"        pm.expect(jsonData.currency).to.exist;",
					"        pm.expect(jsonData.source).to.exist;",
					"        pm.expect(jsonData.fiscalYearId).to.exist;",
					"        pm.expect(jsonData.transactionType).to.exist;",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"transaction.json\")));",
					"    };",
					"",
					"    /**",
					"    * Validates the content of the ledger record",
					"    */",
					"    utils.validateLedger = function (jsonData) {",
					"        pm.expect(jsonData.id).to.exist;",
					"        pm.expect(jsonData.name).to.exist;",
					"        pm.expect(jsonData.code).to.exist;",
					"        pm.expect(jsonData.ledgerStatus).to.exist;",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"ledger.json\")));",
					"    };",
					"",
					"",
					"    /**",
					"     * Validates the content of the group record",
					"     */",
					"    utils.validateGroup = function (jsonData) {",
					"        pm.expect(jsonData.id).to.exist;",
					"        pm.expect(jsonData.name).to.exist;",
					"        pm.expect(jsonData.code).to.exist;",
					"        pm.expect(jsonData.status).to.exist;",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"group.json\")));",
					"    };",
					"",
					"    /**",
					"    * Validates the content of the fiscal year record",
					"    */",
					"    utils.validateFiscalYear = function (jsonData) {",
					"        pm.expect(jsonData.id).to.exist;",
					"        pm.expect(jsonData.code).to.exist;",
					"        pm.expect(jsonData.name).to.exist;",
					"        pm.expect(jsonData.periodStart).to.exist;",
					"        pm.expect(jsonData.periodEnd).to.exist;",
					"        pm.expect(jsonData.series).to.exist;",
					"",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"fiscal_year.json\")));",
					"    };",
					"",
					"    /**",
					"    * Validates the content of the group fiscal year summary record",
					"    */",
					"    utils.validateGroupFiscalYearSummaries = function (jsonData) {",
					"        pm.expect(jsonData.groupId).to.exist;",
					"        pm.expect(jsonData.fiscalYearId).to.exist;",
					"        pm.expect(jsonData.allocated).to.exist;",
					"        pm.expect(jsonData.available).to.exist;",
					"        pm.expect(jsonData.unavailable).to.exist;",
					"",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"group_fiscal_year_summary.json\")));",
					"    };",
					"",
					"    /**",
					"    * Validates the exchange rate",
					"    */",
					"    utils.validateExchangeRate = function (jsonData) {",
					"        pm.expect(jsonData.from).to.exist;",
					"        pm.expect(jsonData.to).to.exist;",
					"        pm.expect(jsonData.exchangeRate).to.exist;",
					"",
					"        utils._validateAgainstSchema(jsonData, JSON.parse(pm.environment.get(utils.schemaPrefix + \"exchange_rate.json\")));",
					"    };",
					"",
					"    /**",
					"     * Clean up variables",
					"     */",
					"    utils.unsetTestVariables = function () {",
					"        // Unset schema variables",
					"        pm.environment.values",
					"            .filter(variable => variable.key.startsWith(utils.schemaPrefix))",
					"            .forEach(schemaVar => pm.environment.unset(schemaVar.key));",
					"",
					"        pm.globals.unset(\"testData\");",
					"        pm.globals.unset(\"loadUtils\");",
					"",
					"        pm.environment.unset(\"enabledModules\");",
					"        pm.environment.unset(\"budgetId\");",
					"        pm.environment.unset(\"budgetId2\");",
					"        pm.environment.unset(\"budgetContent2\");",
					"        pm.environment.unset(\"fiscalYearId\");",
					"        pm.environment.unset(\"fundId\");",
					"        pm.environment.unset(\"fundId2\");",
					"        pm.environment.unset(\"fundContent2\");",
					"        pm.environment.unset(\"fundTypeId\");",
					"        pm.environment.unset(\"fundTypeId2\");",
					"        pm.environment.unset(\"ledgerId\");",
					"        pm.environment.unset(\"xokapitoken-limitedUesr\");",
					"        pm.environment.unset(\"xokapitoken\");",
					"        pm.environment.unset(\"xokapitoken-admin\");",
					"        pm.environment.unset(\"xokapitoken-testAdmin\");",
					"        pm.environment.unset(\"gffyGroupId\");",
					"        pm.environment.unset(\"gffyLedgerId\");",
					"        pm.environment.unset(\"gffyFiscalYearId\");",
					"        pm.environment.unset(\"gffyFundTypeId\");",
					"        pm.environment.unset(\"gffyFundId\");",
					"        pm.environment.unset(\"groupFundFiscalYearId\");",
					"        pm.environment.unset(\"groupId\");",
					"        pm.environment.unset(\"testCurrentFiscalYearOneId\");",
					"        pm.environment.unset(\"testNextFiscalYearOneId\");",
					"        pm.environment.unset(\"currentFiscalYearId\");",
					"        pm.environment.unset(\"nextFiscalYearId\");",
					"        pm.environment.unset(\"currentFyLedgerId\");",
					"        pm.environment.unset(\"nextFyLedgerId\");",
					"        pm.environment.unset(\"currentFyFundId\");",
					"        pm.environment.unset(\"nextFyFundId\");",
					"        pm.environment.unset(\"testNegativeFiscalYearOneId\");",
					"        pm.environment.unset(\"afterNextFiscalYearId\");",
					"        pm.environment.unset(\"negativeLedgerId\");",
					"        pm.environment.unset(\"groupForCrudId\");",
					"        pm.environment.unset(\"groupId1\");",
					"        pm.environment.unset(\"groupId2\");",
					"        pm.environment.unset(\"allocFiscalYearId\");",
					"        pm.environment.unset(\"allocLedgerId\");",
					"        pm.environment.unset(\"toFundId\");",
					"        pm.environment.unset(\"allocBudgetId\");",
					"        pm.environment.unset(\"transactionId\");",
					"        pm.environment.unset(\"encFiscalYearId\");",
					"        pm.environment.unset(\"encLedgerId\");",
					"        pm.environment.unset(\"fromFundId\");",
					"        pm.environment.unset(\"encBudgetId\");",
					"        pm.environment.unset(\"encumbranceId\");",
					"        pm.environment.unset(\"transFiscalYearId\");",
					"        pm.environment.unset(\"transLedgerId\");",
					"        pm.environment.unset(\"transBudgetId\");",
					"        pm.environment.unset(\"transferId\");",
					"        pm.environment.unset(\"currentFiscalYearId\");",
					"        pm.environment.unset(\"nextFiscalYearId\");",
					"        pm.environment.unset(\"ledgerForCurrentFiscalYearId\");",
					"        pm.environment.unset(\"pcFiscalYearId\");",
					"        pm.environment.unset(\"pcLedgerId\");",
					"        pm.environment.unset(\"fromFundId\");",
					"        pm.environment.unset(\"allocBudgetId\");",
					"        pm.environment.unset(\"allocTransactionId\");",
					"        pm.environment.unset(\"invoiceTransactionSummaryId\");",
					"        pm.environment.unset(\"paymentTransactionId\");",
					"        pm.environment.unset(\"creditTransactionId\");",
					"    };",
					"",
					"",
					"    /**",
					"     * Internal function to validate object against specified schema",
					"     */",
					"    utils._validateAgainstSchema = function (jsonData, schema) {",
					"        utils._addSchemas();",
					"        var result = tv4.validateMultiple(jsonData, schema);",
					"        pm.expect(result.valid).to.equal(true, \"Schema validation error: \" + JSON.stringify(result.errors));",
					"        //make sure no schemas are missing",
					"        pm.expect(result.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(result.missing));",
					"    };",
					"",
					"    /**",
					"     * Internal function to load schema defenitions to tv4",
					"     */",
					"    utils._addSchemas = function () {",
					"        //Create and add schemas for validation",
					"        pm.environment.values",
					"            .filter(variable => variable.key.startsWith(utils.schemaPrefix))",
					"            .forEach(schemaVar => tv4.addSchema(schemaVar.key, JSON.parse(schemaVar.value)));",
					"    };",
					"",
					"    /**",
					"     * Internal function to load schema defenitions to tv4",
					"     */",
					"    utils._addSchemas = function () {",
					"        //Create and add schemas for validation",
					"        pm.environment.values",
					"            .filter(variable => variable.key.startsWith(utils.schemaPrefix))",
					"            .forEach(schemaVar => tv4.addSchema(schemaVar.key, JSON.parse(schemaVar.value)));",
					"    };",
					"",
					"    return utils;",
					"",
					"} + '; loadUtils();');"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "503aaf46-86e6-44e0-8f40-a193800bc32a",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "5fa1d76f-8205-4e77-8f63-900a5910dcf6",
			"key": "mod-financeResourcesURL",
			"value": "https://raw.githubusercontent.com/folio-org/mod-finance/master/src/test/resources",
			"type": "string"
		},
		{
			"id": "c6f1bd51-61d9-4d18-a3e7-1b250c37c6bf",
			"key": "testTenant",
			"value": "finance_api_tests",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}